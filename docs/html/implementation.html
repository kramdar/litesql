<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>LiteSQL: Implementation Details</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="implementation">Implementation Details </a></h1><h2><a class="anchor" name="toc">
Index</a></h2>
<ul>
<li><a class="el" href="implementation.html#codegenerator">Code Generator litesql-gen</a></li><li><a class="el" href="implementation.html#mappingtodatabase">Mapping Objects to Relational Database</a></li><li><a class="el" href="implementation.html#virtualmethods">Virtual Methods</a> </li></ul>
<h2><a class="anchor" name="codegenerator">
Code Generator litesql-gen</a></h2>
LiteSQL uses XML database definition file which is used to generate Persistent and Relation classes.<p>
litesql-gen is the code generator written in C++ that generates code from database definition file.<p>
Small help: <div class="fragment"><pre class="fragment">./litesql-gen  --help
Usage: litesql-gen [options] &lt;my-database.xml&gt;

Options:
 -t, --target=TARGET         generate code <span class="keywordflow">for</span> TARGET (<span class="keywordflow">default</span>: c++)
 -v, --verbose               verbosely report code generation
 --help                      print help

Supported targets:
 <span class="stringliteral">'c++'</span>        C++ target (.cpp,.hpp)
 <span class="stringliteral">'graphviz'</span>   Graphviz file (.dot)
</pre></div><p>
The example database definition file (exampledatabase.xml) page will result in two files (exampledatabase.hpp and testdatabase.cpp) when fed to code generator. <div class="fragment"><pre class="fragment">&lt;?xml version=<span class="stringliteral">"1.0"</span>?&gt;
&lt;!DOCTYPE database SYSTEM <span class="stringliteral">"litesql.dtd"</span>&gt; 
&lt;database name=<span class="stringliteral">"ExampleDatabase"</span> <span class="keyword">namespace</span>=<span class="stringliteral">"example"</span>&gt;
    &lt;<span class="keywordtype">object</span> name=<span class="stringliteral">"Person"</span>&gt;
        &lt;field name=<span class="stringliteral">"name"</span> type=<span class="stringliteral">"string"</span>/&gt;
        &lt;field name=<span class="stringliteral">"age"</span> type=<span class="stringliteral">"integer"</span> <span class="keywordflow">default</span>=<span class="stringliteral">"15"</span>/&gt;
        &lt;field name=<span class="stringliteral">"sex"</span> type=<span class="stringliteral">"integer"</span>&gt;
            &lt;value name=<span class="stringliteral">"Male"</span> value=<span class="stringliteral">"0"</span>/&gt;
            &lt;value name=<span class="stringliteral">"Female"</span> value=<span class="stringliteral">"1"</span>/&gt;
        &lt;/field&gt;
        &lt;method name=<span class="stringliteral">"sayHello"</span>/&gt;
    &lt;/<span class="keywordtype">object</span>&gt;
    &lt;relation <span class="keywordtype">id</span>=<span class="stringliteral">"Mother"</span> unidir=<span class="stringliteral">"true"</span>&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"Person"</span> limit=<span class="stringliteral">"many"</span> handle=<span class="stringliteral">"mother"</span>/&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"Person"</span> limit=<span class="stringliteral">"one"</span>/&gt;
    &lt;/relation&gt;
    &lt;relation <span class="keywordtype">id</span>=<span class="stringliteral">"Father"</span> unidir=<span class="stringliteral">"true"</span>&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"Person"</span> limit=<span class="stringliteral">"many"</span> handle=<span class="stringliteral">"father"</span>/&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"Person"</span> limit=<span class="stringliteral">"one"</span>/&gt;
    &lt;/relation&gt;
    &lt;relation <span class="keywordtype">id</span>=<span class="stringliteral">"Siblings"</span>&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"Person"</span> handle=<span class="stringliteral">"siblings"</span>/&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"Person"</span>/&gt;
    &lt;/relation&gt;
    &lt;relation <span class="keywordtype">id</span>=<span class="stringliteral">"Children"</span> unidir=<span class="stringliteral">"true"</span>&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"Person"</span> handle=<span class="stringliteral">"children"</span>/&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"Person"</span>/&gt;
    &lt;/relation&gt;
    &lt;<span class="keywordtype">object</span> name=<span class="stringliteral">"Role"</span>/&gt;
    &lt;<span class="keywordtype">object</span> name=<span class="stringliteral">"Student"</span> inherits=<span class="stringliteral">"Role"</span>/&gt;
    &lt;<span class="keywordtype">object</span> name=<span class="stringliteral">"Employee"</span> inherits=<span class="stringliteral">"Role"</span>/&gt;
    &lt;relation <span class="keywordtype">id</span>=<span class="stringliteral">"Roles"</span> name=<span class="stringliteral">"RoleRelation"</span>&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"Person"</span> handle=<span class="stringliteral">"roles"</span> limit=<span class="stringliteral">"one"</span>/&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"Role"</span> handle=<span class="stringliteral">"person"</span>/&gt;
    &lt;/relation&gt;
    &lt;<span class="keywordtype">object</span> name=<span class="stringliteral">"School"</span>&gt;
        &lt;field name=<span class="stringliteral">"name"</span> type=<span class="stringliteral">"string"</span>/&gt;
    &lt;/<span class="keywordtype">object</span>&gt;
    &lt;relation&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"Student"</span> handle=<span class="stringliteral">"school"</span>/&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"School"</span> handle=<span class="stringliteral">"students"</span> limit=<span class="stringliteral">"one"</span>/&gt;
    &lt;/relation&gt;
    &lt;<span class="keywordtype">object</span> name=<span class="stringliteral">"Office"</span>/&gt;
    &lt;relation&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"Employee"</span> handle=<span class="stringliteral">"office"</span>/&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"Office"</span> handle=<span class="stringliteral">"employees"</span>/&gt;
    &lt;/relation&gt;
&lt;/database&gt;
</pre></div> exampledatabase.hpp contains class declarations for persistent objects and relations <div class="fragment"><pre class="fragment"><span class="preprocessor">#ifndef _exampledatabase_hpp_</span>
<span class="preprocessor"></span><span class="preprocessor">#define _exampledatabase_hpp_</span>
<span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="litesql_8hpp.html" title="include this from your project">litesql.hpp</a>"</span>
<span class="keyword">namespace </span>example {
<span class="keyword">class </span>Person;
<span class="keyword">class </span>Role;
<span class="keyword">class </span>Student;
<span class="keyword">class </span>Employee;
<span class="keyword">class </span>School;
<span class="keyword">class </span>Office;
<span class="keyword">class </span>PersonPersonRelationMother {
<span class="keyword">public</span>:
    <span class="keyword">class </span>Row {
    <span class="keyword">public</span>:
        <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> person2;
        <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> person1;
        Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec=<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>());
    };
    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Person1;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Person2;
    <span class="keyword">static</span> <span class="keywordtype">void</span> link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);
    <span class="keyword">static</span> <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);
    <span class="keyword">static</span> <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationMother::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
};
<span class="keyword">class </span>PersonPersonRelationFather {
<span class="keyword">public</span>:
    <span class="keyword">class </span>Row {
    <span class="keyword">public</span>:
        <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> person2;
        <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> person1;
        Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec=<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>());
    };
    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Person1;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Person2;
    <span class="keyword">static</span> <span class="keywordtype">void</span> link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);
    <span class="keyword">static</span> <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);
    <span class="keyword">static</span> <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationFather::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
};
<span class="keyword">class </span>PersonPersonRelationSiblings {
<span class="keyword">public</span>:
    <span class="keyword">class </span>Row {
    <span class="keyword">public</span>:
        <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> person2;
        <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> person1;
        Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec=<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>());
    };
    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Person1;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Person2;
    <span class="keyword">static</span> <span class="keywordtype">void</span> link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);
    <span class="keyword">static</span> <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);
    <span class="keyword">static</span> <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationSiblings::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
};
<span class="keyword">class </span>PersonPersonRelationChildren {
<span class="keyword">public</span>:
    <span class="keyword">class </span>Row {
    <span class="keyword">public</span>:
        <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> person2;
        <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> person1;
        Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec=<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>());
    };
    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Person1;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Person2;
    <span class="keyword">static</span> <span class="keywordtype">void</span> link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);
    <span class="keyword">static</span> <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1);
    <span class="keyword">static</span> <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationChildren::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
};
<span class="keyword">class </span>RoleRelation {
<span class="keyword">public</span>:
    <span class="keyword">class </span>Row {
    <span class="keyword">public</span>:
        <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> role;
        <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> person;
        Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec=<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>());
    };
    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Person;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Role;
    <span class="keyword">static</span> <span class="keywordtype">void</span> link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Role&amp; o1);
    <span class="keyword">static</span> <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Role&amp; o1);
    <span class="keyword">static</span> <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;RoleRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;T&gt;</a> <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
;
;
};
<span class="keyword">class </span>SchoolStudentRelation {
<span class="keyword">public</span>:
    <span class="keyword">class </span>Row {
    <span class="keyword">public</span>:
        <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> student;
        <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> school;
        Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec=<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>());
    };
    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType School;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Student;
    <span class="keyword">static</span> <span class="keywordtype">void</span> link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::School&amp; o0, <span class="keyword">const</span> example::Student&amp; o1);
    <span class="keyword">static</span> <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::School&amp; o0, <span class="keyword">const</span> example::Student&amp; o1);
    <span class="keyword">static</span> <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;SchoolStudentRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;T&gt;</a> <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
;
;
};
<span class="keyword">class </span>EmployeeOfficeRelation {
<span class="keyword">public</span>:
    <span class="keyword">class </span>Row {
    <span class="keyword">public</span>:
        <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> office;
        <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> employee;
        Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec=<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>());
    };
    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Employee;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Office;
    <span class="keyword">static</span> <span class="keywordtype">void</span> link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Employee&amp; o0, <span class="keyword">const</span> example::Office&amp; o1);
    <span class="keyword">static</span> <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Employee&amp; o0, <span class="keyword">const</span> example::Office&amp; o1);
    <span class="keyword">static</span> <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;EmployeeOfficeRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;T&gt;</a> <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
;
;
};
<span class="keyword">class </span>Person : <span class="keyword">public</span> litesql::Persistent {
<span class="keyword">public</span>:
    <span class="keyword">class </span>Own {
    <span class="keyword">public</span>:
        <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Id;
    };
    <span class="keyword">class </span>SexType : <span class="keyword">public</span> litesql::FieldType {
    <span class="keyword">public</span>:
        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> Male;
        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> Female;
        SexType(<span class="keyword">const</span> std::string&amp; n, <span class="keyword">const</span> std::string&amp; t, <span class="keyword">const</span> std::string&amp; tbl, <span class="keyword">const</span> litesql::FieldType::Values&amp; vals=Values());
    };
    <span class="keyword">class </span>Sex {
    <span class="keyword">public</span>:
        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> Male;
        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> Female;
    };
    <span class="keyword">class </span>MotherHandle : <span class="keyword">public</span> litesql::RelationHandle&lt;Person&gt; {
    <span class="keyword">public</span>:
        MotherHandle(<span class="keyword">const</span> Person&amp; owner);
        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Person&amp; o0);
        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Person&amp; o0);
        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Person&gt;</a> <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationMother::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    };
    <span class="keyword">class </span>FatherHandle : <span class="keyword">public</span> litesql::RelationHandle&lt;Person&gt; {
    <span class="keyword">public</span>:
        FatherHandle(<span class="keyword">const</span> Person&amp; owner);
        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Person&amp; o0);
        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Person&amp; o0);
        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Person&gt;</a> <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationFather::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    };
    <span class="keyword">class </span>SiblingsHandle : <span class="keyword">public</span> litesql::RelationHandle&lt;Person&gt; {
    <span class="keyword">public</span>:
        SiblingsHandle(<span class="keyword">const</span> Person&amp; owner);
        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Person&amp; o0);
        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Person&amp; o0);
        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Person&gt;</a> <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationSiblings::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    };
    <span class="keyword">class </span>ChildrenHandle : <span class="keyword">public</span> litesql::RelationHandle&lt;Person&gt; {
    <span class="keyword">public</span>:
        ChildrenHandle(<span class="keyword">const</span> Person&amp; owner);
        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Person&amp; o0);
        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Person&amp; o0);
        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Person&gt;</a> <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationChildren::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    };
    <span class="keyword">class </span>RolesHandle : <span class="keyword">public</span> litesql::RelationHandle&lt;Person&gt; {
    <span class="keyword">public</span>:
        RolesHandle(<span class="keyword">const</span> Person&amp; owner);
        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Role&amp; o0);
        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Role&amp; o0);
        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Role&gt;</a> <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;RoleRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    };
    <span class="keyword">static</span> <span class="keyword">const</span> std::string type__;
    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;
    <span class="keyword">static</span> <span class="keyword">const</span> std::string sequence__;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Id;
    <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> id;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Type;
    <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;std::string&gt;</a> type;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Name;
    <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;std::string&gt;</a> name;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Age;
    <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> age;
<span class="keyword">protected</span>:
    <span class="keyword">static</span> std::vector &lt; std::pair&lt; std::string, std::string &gt; &gt; sex_values;
<span class="keyword">public</span>:
    <span class="keyword">static</span> <span class="keyword">const</span> Person::SexType Sex;
    <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> sex;
    <span class="keyword">static</span> <span class="keywordtype">void</span> initValues();
<span class="keyword">protected</span>:
    <span class="keywordtype">void</span> defaults();
<span class="keyword">public</span>:
    Person(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db);
    Person(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec);
    Person(<span class="keyword">const</span> Person&amp; obj);
    <span class="keyword">const</span> Person&amp; operator=(<span class="keyword">const</span> Person&amp; obj);
    Person::MotherHandle mother();
    Person::FatherHandle father();
    Person::SiblingsHandle siblings();
    Person::ChildrenHandle children();
    Person::RolesHandle roles();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> sayHello();
<span class="keyword">protected</span>:
    std::string insert(<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; tables, litesql::Records&amp; fieldRecs, litesql::Records&amp; valueRecs);
    <span class="keywordtype">void</span> create();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addUpdates(Updates&amp; updates);
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addIDUpdates(Updates&amp; updates);
<span class="keyword">public</span>:
    <span class="keyword">static</span> <span class="keywordtype">void</span> getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes);
<span class="keyword">protected</span>:
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRecord();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRelations();
<span class="keyword">public</span>:
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> update();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> del();
    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> typeIsCorrect();
    std::auto_ptr&lt;Person&gt; upcast();
    std::auto_ptr&lt;Person&gt; upcastCopy();
};
std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Person o);
<span class="keyword">class </span>Role : <span class="keyword">public</span> litesql::Persistent {
<span class="keyword">public</span>:
    <span class="keyword">class </span>Own {
    <span class="keyword">public</span>:
        <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Id;
    };
    <span class="keyword">class </span>PersonHandle : <span class="keyword">public</span> litesql::RelationHandle&lt;Role&gt; {
    <span class="keyword">public</span>:
        PersonHandle(<span class="keyword">const</span> Role&amp; owner);
        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Person&amp; o0);
        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Person&amp; o0);
        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Person&gt;</a> <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;RoleRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    };
    <span class="keyword">static</span> <span class="keyword">const</span> std::string type__;
    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;
    <span class="keyword">static</span> <span class="keyword">const</span> std::string sequence__;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Id;
    <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> id;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Type;
    <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;std::string&gt;</a> type;
<span class="keyword">protected</span>:
    <span class="keywordtype">void</span> defaults();
<span class="keyword">public</span>:
    Role(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db);
    Role(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec);
    Role(<span class="keyword">const</span> Role&amp; obj);
    <span class="keyword">const</span> Role&amp; operator=(<span class="keyword">const</span> Role&amp; obj);
    Role::PersonHandle person();
<span class="keyword">protected</span>:
    std::string insert(<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; tables, litesql::Records&amp; fieldRecs, litesql::Records&amp; valueRecs);
    <span class="keywordtype">void</span> create();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addUpdates(Updates&amp; updates);
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addIDUpdates(Updates&amp; updates);
<span class="keyword">public</span>:
    <span class="keyword">static</span> <span class="keywordtype">void</span> getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes);
<span class="keyword">protected</span>:
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRecord();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRelations();
<span class="keyword">public</span>:
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> update();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> del();
    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> typeIsCorrect();
    std::auto_ptr&lt;Role&gt; upcast();
    std::auto_ptr&lt;Role&gt; upcastCopy();
};
std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Role o);
<span class="keyword">class </span>Student : <span class="keyword">public</span> Role {
<span class="keyword">public</span>:
    <span class="keyword">class </span>Own {
    <span class="keyword">public</span>:
        <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Id;
    };
    <span class="keyword">class </span>SchoolHandle : <span class="keyword">public</span> litesql::RelationHandle&lt;Student&gt; {
    <span class="keyword">public</span>:
        SchoolHandle(<span class="keyword">const</span> Student&amp; owner);
        <span class="keywordtype">void</span> link(<span class="keyword">const</span> School&amp; o0);
        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> School&amp; o0);
        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;School&gt;</a> <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;SchoolStudentRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    };
    <span class="keyword">static</span> <span class="keyword">const</span> std::string type__;
    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;
    Student(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db);
    Student(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec);
    Student(<span class="keyword">const</span> Student&amp; obj);
    <span class="keyword">const</span> Student&amp; operator=(<span class="keyword">const</span> Student&amp; obj);
    Student::SchoolHandle school();
<span class="keyword">protected</span>:
    std::string insert(<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; tables, litesql::Records&amp; fieldRecs, litesql::Records&amp; valueRecs);
    <span class="keywordtype">void</span> create();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addUpdates(Updates&amp; updates);
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addIDUpdates(Updates&amp; updates);
<span class="keyword">public</span>:
    <span class="keyword">static</span> <span class="keywordtype">void</span> getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes);
<span class="keyword">protected</span>:
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRecord();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRelations();
<span class="keyword">public</span>:
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> update();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> del();
    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> typeIsCorrect();
    std::auto_ptr&lt;Student&gt; upcast();
    std::auto_ptr&lt;Student&gt; upcastCopy();
};
std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Student o);
<span class="keyword">class </span>Employee : <span class="keyword">public</span> Role {
<span class="keyword">public</span>:
    <span class="keyword">class </span>Own {
    <span class="keyword">public</span>:
        <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Id;
    };
    <span class="keyword">class </span>OfficeHandle : <span class="keyword">public</span> litesql::RelationHandle&lt;Employee&gt; {
    <span class="keyword">public</span>:
        OfficeHandle(<span class="keyword">const</span> Employee&amp; owner);
        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Office&amp; o0);
        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Office&amp; o0);
        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Office&gt;</a> <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;EmployeeOfficeRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    };
    <span class="keyword">static</span> <span class="keyword">const</span> std::string type__;
    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;
    Employee(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db);
    Employee(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec);
    Employee(<span class="keyword">const</span> Employee&amp; obj);
    <span class="keyword">const</span> Employee&amp; operator=(<span class="keyword">const</span> Employee&amp; obj);
    Employee::OfficeHandle office();
<span class="keyword">protected</span>:
    std::string insert(<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; tables, litesql::Records&amp; fieldRecs, litesql::Records&amp; valueRecs);
    <span class="keywordtype">void</span> create();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addUpdates(Updates&amp; updates);
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addIDUpdates(Updates&amp; updates);
<span class="keyword">public</span>:
    <span class="keyword">static</span> <span class="keywordtype">void</span> getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes);
<span class="keyword">protected</span>:
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRecord();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRelations();
<span class="keyword">public</span>:
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> update();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> del();
    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> typeIsCorrect();
    std::auto_ptr&lt;Employee&gt; upcast();
    std::auto_ptr&lt;Employee&gt; upcastCopy();
};
std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Employee o);
<span class="keyword">class </span>School : <span class="keyword">public</span> litesql::Persistent {
<span class="keyword">public</span>:
    <span class="keyword">class </span>Own {
    <span class="keyword">public</span>:
        <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Id;
    };
    <span class="keyword">class </span>StudentsHandle : <span class="keyword">public</span> litesql::RelationHandle&lt;School&gt; {
    <span class="keyword">public</span>:
        StudentsHandle(<span class="keyword">const</span> School&amp; owner);
        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Student&amp; o0);
        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Student&amp; o0);
        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Student&gt;</a> <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;SchoolStudentRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    };
    <span class="keyword">static</span> <span class="keyword">const</span> std::string type__;
    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;
    <span class="keyword">static</span> <span class="keyword">const</span> std::string sequence__;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Id;
    <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> id;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Type;
    <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;std::string&gt;</a> type;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Name;
    <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;std::string&gt;</a> name;
<span class="keyword">protected</span>:
    <span class="keywordtype">void</span> defaults();
<span class="keyword">public</span>:
    School(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db);
    School(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec);
    School(<span class="keyword">const</span> School&amp; obj);
    <span class="keyword">const</span> School&amp; operator=(<span class="keyword">const</span> School&amp; obj);
    School::StudentsHandle students();
<span class="keyword">protected</span>:
    std::string insert(<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; tables, litesql::Records&amp; fieldRecs, litesql::Records&amp; valueRecs);
    <span class="keywordtype">void</span> create();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addUpdates(Updates&amp; updates);
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addIDUpdates(Updates&amp; updates);
<span class="keyword">public</span>:
    <span class="keyword">static</span> <span class="keywordtype">void</span> getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes);
<span class="keyword">protected</span>:
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRecord();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRelations();
<span class="keyword">public</span>:
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> update();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> del();
    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> typeIsCorrect();
    std::auto_ptr&lt;School&gt; upcast();
    std::auto_ptr&lt;School&gt; upcastCopy();
};
std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, School o);
<span class="keyword">class </span>Office : <span class="keyword">public</span> litesql::Persistent {
<span class="keyword">public</span>:
    <span class="keyword">class </span>Own {
    <span class="keyword">public</span>:
        <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Id;
    };
    <span class="keyword">class </span>EmployeesHandle : <span class="keyword">public</span> litesql::RelationHandle&lt;Office&gt; {
    <span class="keyword">public</span>:
        EmployeesHandle(<span class="keyword">const</span> Office&amp; owner);
        <span class="keywordtype">void</span> link(<span class="keyword">const</span> Employee&amp; o0);
        <span class="keywordtype">void</span> unlink(<span class="keyword">const</span> Employee&amp; o0);
        <span class="keywordtype">void</span> del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Employee&gt;</a> <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>(), <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
        <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;EmployeeOfficeRelation::Row&gt;</a> getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr=<a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>());
    };
    <span class="keyword">static</span> <span class="keyword">const</span> std::string type__;
    <span class="keyword">static</span> <span class="keyword">const</span> std::string table__;
    <span class="keyword">static</span> <span class="keyword">const</span> std::string sequence__;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Id;
    <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;int&gt;</a> id;
    <span class="keyword">static</span> <span class="keyword">const</span> litesql::FieldType Type;
    <a class="code" href="classlitesql_1_1Field.html" title="holds field value">litesql::Field&lt;std::string&gt;</a> type;
<span class="keyword">protected</span>:
    <span class="keywordtype">void</span> defaults();
<span class="keyword">public</span>:
    Office(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db);
    Office(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec);
    Office(<span class="keyword">const</span> Office&amp; obj);
    <span class="keyword">const</span> Office&amp; operator=(<span class="keyword">const</span> Office&amp; obj);
    Office::EmployeesHandle employees();
<span class="keyword">protected</span>:
    std::string insert(<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; tables, litesql::Records&amp; fieldRecs, litesql::Records&amp; valueRecs);
    <span class="keywordtype">void</span> create();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addUpdates(Updates&amp; updates);
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> addIDUpdates(Updates&amp; updates);
<span class="keyword">public</span>:
    <span class="keyword">static</span> <span class="keywordtype">void</span> getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes);
<span class="keyword">protected</span>:
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRecord();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> delRelations();
<span class="keyword">public</span>:
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> update();
    <span class="keyword">virtual</span> <span class="keywordtype">void</span> del();
    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> typeIsCorrect();
    std::auto_ptr&lt;Office&gt; upcast();
    std::auto_ptr&lt;Office&gt; upcastCopy();
};
std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Office o);
<span class="keyword">class </span>ExampleDatabase : <span class="keyword">public</span> litesql::Database {
<span class="keyword">public</span>:
    ExampleDatabase(std::string backendType, std::string connInfo);
<span class="keyword">protected</span>:
    <span class="keyword">virtual</span> std::vector&lt;litesql::Database::SchemaItem&gt; getSchema() <span class="keyword">const</span>;
    <span class="keyword">static</span> <span class="keywordtype">void</span> initialize();
};
}
<span class="preprocessor">#endif</span>
</pre></div> exampledatabase.cpp contains implementation of methods and lots of static data. <div class="fragment"><pre class="fragment"><span class="preprocessor">#include "exampledatabase.hpp"</span>
<span class="keyword">namespace </span>example {
<span class="keyword">using namespace </span>litesql;
PersonPersonRelationMother::Row::Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec)
         : person2(PersonPersonRelationMother::Person2), person1(PersonPersonRelationMother::Person1) {
    <span class="keywordflow">switch</span>(rec.size()) {
    <span class="keywordflow">case</span> 2:
        person2 = rec[1];
    <span class="keywordflow">case</span> 1:
        person1 = rec[0];
    }
}
<span class="keyword">const</span> std::string PersonPersonRelationMother::table__(<span class="stringliteral">"Person_Person_Mother"</span>);
<span class="keyword">const</span> litesql::FieldType PersonPersonRelationMother::Person1(<span class="stringliteral">"Person1"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keyword">const</span> litesql::FieldType PersonPersonRelationMother::Person2(<span class="stringliteral">"Person2"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keywordtype">void</span> PersonPersonRelationMother::link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {
    Record values;
    Split fields;
    fields.push_back(Person1.name());
    values.push_back(o0.id);
    fields.push_back(Person2.name());
    values.push_back(o1.id);
    db.<a class="code" href="classlitesql_1_1Database.html#8cccf5a3bb6340978ee0c6e64f04afff" title="executes SQL INSERT statement.">insert</a>(table__, values, fields);
}
<span class="keywordtype">void</span> PersonPersonRelationMother::unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {
    db.<a class="code" href="classlitesql_1_1Database.html#a23f80b876489721470bb6be033a19c3" title="deletes rows from single table, deleted rows are selected by Expr if specified">delete_</a>(table__, (Person1 == o0.id &amp;&amp; Person2 == o1.id));
}
<span class="keywordtype">void</span> PersonPersonRelationMother::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    db.<a class="code" href="classlitesql_1_1Database.html#a23f80b876489721470bb6be033a19c3" title="deletes rows from single table, deleted rows are selected by Expr if specified">delete_</a>(table__, expr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationMother::Row&gt;</a> PersonPersonRelationMother::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    SelectQuery sel;
    sel.result(Person1.fullName());
    sel.result(Person2.fullName());
    sel.source(table__);
    sel.where(expr);
    <span class="keywordflow">return</span> DataSource&lt;PersonPersonRelationMother::Row&gt;(db, sel);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationMother::getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    SelectQuery sel;
    sel.source(table__);
    sel.result(Person1.fullName());
    sel.where(srcExpr);
    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationMother::getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    SelectQuery sel;
    sel.source(table__);
    sel.result(Person2.fullName());
    sel.where(srcExpr);
    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);
}
PersonPersonRelationFather::Row::Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec)
         : person2(PersonPersonRelationFather::Person2), person1(PersonPersonRelationFather::Person1) {
    <span class="keywordflow">switch</span>(rec.size()) {
    <span class="keywordflow">case</span> 2:
        person2 = rec[1];
    <span class="keywordflow">case</span> 1:
        person1 = rec[0];
    }
}
<span class="keyword">const</span> std::string PersonPersonRelationFather::table__(<span class="stringliteral">"Person_Person_Father"</span>);
<span class="keyword">const</span> litesql::FieldType PersonPersonRelationFather::Person1(<span class="stringliteral">"Person1"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keyword">const</span> litesql::FieldType PersonPersonRelationFather::Person2(<span class="stringliteral">"Person2"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keywordtype">void</span> PersonPersonRelationFather::link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {
    Record values;
    Split fields;
    fields.push_back(Person1.name());
    values.push_back(o0.id);
    fields.push_back(Person2.name());
    values.push_back(o1.id);
    db.<a class="code" href="classlitesql_1_1Database.html#8cccf5a3bb6340978ee0c6e64f04afff" title="executes SQL INSERT statement.">insert</a>(table__, values, fields);
}
<span class="keywordtype">void</span> PersonPersonRelationFather::unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {
    db.<a class="code" href="classlitesql_1_1Database.html#a23f80b876489721470bb6be033a19c3" title="deletes rows from single table, deleted rows are selected by Expr if specified">delete_</a>(table__, (Person1 == o0.id &amp;&amp; Person2 == o1.id));
}
<span class="keywordtype">void</span> PersonPersonRelationFather::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    db.<a class="code" href="classlitesql_1_1Database.html#a23f80b876489721470bb6be033a19c3" title="deletes rows from single table, deleted rows are selected by Expr if specified">delete_</a>(table__, expr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationFather::Row&gt;</a> PersonPersonRelationFather::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    SelectQuery sel;
    sel.result(Person1.fullName());
    sel.result(Person2.fullName());
    sel.source(table__);
    sel.where(expr);
    <span class="keywordflow">return</span> DataSource&lt;PersonPersonRelationFather::Row&gt;(db, sel);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationFather::getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    SelectQuery sel;
    sel.source(table__);
    sel.result(Person1.fullName());
    sel.where(srcExpr);
    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationFather::getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    SelectQuery sel;
    sel.source(table__);
    sel.result(Person2.fullName());
    sel.where(srcExpr);
    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);
}
PersonPersonRelationSiblings::Row::Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec)
         : person2(PersonPersonRelationSiblings::Person2), person1(PersonPersonRelationSiblings::Person1) {
    <span class="keywordflow">switch</span>(rec.size()) {
    <span class="keywordflow">case</span> 2:
        person2 = rec[1];
    <span class="keywordflow">case</span> 1:
        person1 = rec[0];
    }
}
<span class="keyword">const</span> std::string PersonPersonRelationSiblings::table__(<span class="stringliteral">"Person_Person_Siblings"</span>);
<span class="keyword">const</span> litesql::FieldType PersonPersonRelationSiblings::Person1(<span class="stringliteral">"Person1"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keyword">const</span> litesql::FieldType PersonPersonRelationSiblings::Person2(<span class="stringliteral">"Person2"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keywordtype">void</span> PersonPersonRelationSiblings::link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {
    Record values;
    Split fields;
    fields.push_back(Person1.name());
    values.push_back(o0.id);
    fields.push_back(Person2.name());
    values.push_back(o1.id);
    db.<a class="code" href="classlitesql_1_1Database.html#8cccf5a3bb6340978ee0c6e64f04afff" title="executes SQL INSERT statement.">insert</a>(table__, values, fields);
    fields.clear();
    values.clear();
    fields.push_back(Person1.name());
    values.push_back(o1.id);
    fields.push_back(Person2.name());
    values.push_back(o0.id);
    db.<a class="code" href="classlitesql_1_1Database.html#8cccf5a3bb6340978ee0c6e64f04afff" title="executes SQL INSERT statement.">insert</a>(table__, values, fields);
}
<span class="keywordtype">void</span> PersonPersonRelationSiblings::unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {
    db.<a class="code" href="classlitesql_1_1Database.html#a23f80b876489721470bb6be033a19c3" title="deletes rows from single table, deleted rows are selected by Expr if specified">delete_</a>(table__, (Person1 == o0.id &amp;&amp; Person2 == o1.id));
    db.<a class="code" href="classlitesql_1_1Database.html#a23f80b876489721470bb6be033a19c3" title="deletes rows from single table, deleted rows are selected by Expr if specified">delete_</a>(table__, (Person1 == o1.id &amp;&amp; Person2 == o0.id));
}
<span class="keywordtype">void</span> PersonPersonRelationSiblings::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    db.<a class="code" href="classlitesql_1_1Database.html#a23f80b876489721470bb6be033a19c3" title="deletes rows from single table, deleted rows are selected by Expr if specified">delete_</a>(table__, expr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationSiblings::Row&gt;</a> PersonPersonRelationSiblings::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    SelectQuery sel;
    sel.result(Person1.fullName());
    sel.result(Person2.fullName());
    sel.source(table__);
    sel.where(expr);
    <span class="keywordflow">return</span> DataSource&lt;PersonPersonRelationSiblings::Row&gt;(db, sel);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationSiblings::getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    SelectQuery sel;
    sel.source(table__);
    sel.result(Person1.fullName());
    sel.where(srcExpr);
    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationSiblings::getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    SelectQuery sel;
    sel.source(table__);
    sel.result(Person2.fullName());
    sel.where(srcExpr);
    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);
}
PersonPersonRelationChildren::Row::Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec)
         : person2(PersonPersonRelationChildren::Person2), person1(PersonPersonRelationChildren::Person1) {
    <span class="keywordflow">switch</span>(rec.size()) {
    <span class="keywordflow">case</span> 2:
        person2 = rec[1];
    <span class="keywordflow">case</span> 1:
        person1 = rec[0];
    }
}
<span class="keyword">const</span> std::string PersonPersonRelationChildren::table__(<span class="stringliteral">"Person_Person_Children"</span>);
<span class="keyword">const</span> litesql::FieldType PersonPersonRelationChildren::Person1(<span class="stringliteral">"Person1"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keyword">const</span> litesql::FieldType PersonPersonRelationChildren::Person2(<span class="stringliteral">"Person2"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keywordtype">void</span> PersonPersonRelationChildren::link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {
    Record values;
    Split fields;
    fields.push_back(Person1.name());
    values.push_back(o0.id);
    fields.push_back(Person2.name());
    values.push_back(o1.id);
    db.<a class="code" href="classlitesql_1_1Database.html#8cccf5a3bb6340978ee0c6e64f04afff" title="executes SQL INSERT statement.">insert</a>(table__, values, fields);
}
<span class="keywordtype">void</span> PersonPersonRelationChildren::unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Person&amp; o1) {
    db.<a class="code" href="classlitesql_1_1Database.html#a23f80b876489721470bb6be033a19c3" title="deletes rows from single table, deleted rows are selected by Expr if specified">delete_</a>(table__, (Person1 == o0.id &amp;&amp; Person2 == o1.id));
}
<span class="keywordtype">void</span> PersonPersonRelationChildren::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    db.<a class="code" href="classlitesql_1_1Database.html#a23f80b876489721470bb6be033a19c3" title="deletes rows from single table, deleted rows are selected by Expr if specified">delete_</a>(table__, expr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationChildren::Row&gt;</a> PersonPersonRelationChildren::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    SelectQuery sel;
    sel.result(Person1.fullName());
    sel.result(Person2.fullName());
    sel.source(table__);
    sel.where(expr);
    <span class="keywordflow">return</span> DataSource&lt;PersonPersonRelationChildren::Row&gt;(db, sel);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationChildren::getPerson1(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    SelectQuery sel;
    sel.source(table__);
    sel.result(Person1.fullName());
    sel.where(srcExpr);
    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> PersonPersonRelationChildren::getPerson2(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    SelectQuery sel;
    sel.source(table__);
    sel.result(Person2.fullName());
    sel.where(srcExpr);
    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);
}
RoleRelation::Row::Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec)
         : role(RoleRelation::Role), person(RoleRelation::Person) {
    <span class="keywordflow">switch</span>(rec.size()) {
    <span class="keywordflow">case</span> 2:
        role = rec[1];
    <span class="keywordflow">case</span> 1:
        person = rec[0];
    }
}
<span class="keyword">const</span> std::string RoleRelation::table__(<span class="stringliteral">"Person_Role_Roles"</span>);
<span class="keyword">const</span> litesql::FieldType RoleRelation::Person(<span class="stringliteral">"Person1"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keyword">const</span> litesql::FieldType RoleRelation::Role(<span class="stringliteral">"Role2"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keywordtype">void</span> RoleRelation::link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Role&amp; o1) {
    Record values;
    Split fields;
    fields.push_back(Person.name());
    values.push_back(o0.id);
    fields.push_back(Role.name());
    values.push_back(o1.id);
    db.<a class="code" href="classlitesql_1_1Database.html#8cccf5a3bb6340978ee0c6e64f04afff" title="executes SQL INSERT statement.">insert</a>(table__, values, fields);
}
<span class="keywordtype">void</span> RoleRelation::unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Person&amp; o0, <span class="keyword">const</span> example::Role&amp; o1) {
    db.<a class="code" href="classlitesql_1_1Database.html#a23f80b876489721470bb6be033a19c3" title="deletes rows from single table, deleted rows are selected by Expr if specified">delete_</a>(table__, (Person == o0.id &amp;&amp; Role == o1.id));
}
<span class="keywordtype">void</span> RoleRelation::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    db.<a class="code" href="classlitesql_1_1Database.html#a23f80b876489721470bb6be033a19c3" title="deletes rows from single table, deleted rows are selected by Expr if specified">delete_</a>(table__, expr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;RoleRelation::Row&gt;</a> RoleRelation::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    SelectQuery sel;
    sel.result(Person.fullName());
    sel.result(Role.fullName());
    sel.source(table__);
    sel.where(expr);
    <span class="keywordflow">return</span> DataSource&lt;RoleRelation::Row&gt;(db, sel);
}
<span class="keyword">template</span> &lt;&gt; <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Person&gt;</a> RoleRelation::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    SelectQuery sel;
    sel.source(table__);
    sel.result(Person.fullName());
    sel.where(srcExpr);
    <span class="keywordflow">return</span> DataSource&lt;example::Person&gt;(db, example::Person::Id.in(sel) &amp;&amp; expr);
}
<span class="keyword">template</span> &lt;&gt; <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Role&gt;</a> RoleRelation::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    SelectQuery sel;
    sel.source(table__);
    sel.result(Role.fullName());
    sel.where(srcExpr);
    <span class="keywordflow">return</span> DataSource&lt;example::Role&gt;(db, example::Role::Id.in(sel) &amp;&amp; expr);
}
SchoolStudentRelation::Row::Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec)
         : student(SchoolStudentRelation::Student), school(SchoolStudentRelation::School) {
    <span class="keywordflow">switch</span>(rec.size()) {
    <span class="keywordflow">case</span> 2:
        student = rec[1];
    <span class="keywordflow">case</span> 1:
        school = rec[0];
    }
}
<span class="keyword">const</span> std::string SchoolStudentRelation::table__(<span class="stringliteral">"School_Student_"</span>);
<span class="keyword">const</span> litesql::FieldType SchoolStudentRelation::School(<span class="stringliteral">"School1"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keyword">const</span> litesql::FieldType SchoolStudentRelation::Student(<span class="stringliteral">"Student2"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keywordtype">void</span> SchoolStudentRelation::link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::School&amp; o0, <span class="keyword">const</span> example::Student&amp; o1) {
    Record values;
    Split fields;
    fields.push_back(School.name());
    values.push_back(o0.id);
    fields.push_back(Student.name());
    values.push_back(o1.id);
    db.<a class="code" href="classlitesql_1_1Database.html#8cccf5a3bb6340978ee0c6e64f04afff" title="executes SQL INSERT statement.">insert</a>(table__, values, fields);
}
<span class="keywordtype">void</span> SchoolStudentRelation::unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::School&amp; o0, <span class="keyword">const</span> example::Student&amp; o1) {
    db.<a class="code" href="classlitesql_1_1Database.html#a23f80b876489721470bb6be033a19c3" title="deletes rows from single table, deleted rows are selected by Expr if specified">delete_</a>(table__, (School == o0.id &amp;&amp; Student == o1.id));
}
<span class="keywordtype">void</span> SchoolStudentRelation::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    db.<a class="code" href="classlitesql_1_1Database.html#a23f80b876489721470bb6be033a19c3" title="deletes rows from single table, deleted rows are selected by Expr if specified">delete_</a>(table__, expr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;SchoolStudentRelation::Row&gt;</a> SchoolStudentRelation::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    SelectQuery sel;
    sel.result(School.fullName());
    sel.result(Student.fullName());
    sel.source(table__);
    sel.where(expr);
    <span class="keywordflow">return</span> DataSource&lt;SchoolStudentRelation::Row&gt;(db, sel);
}
<span class="keyword">template</span> &lt;&gt; <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::School&gt;</a> SchoolStudentRelation::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    SelectQuery sel;
    sel.source(table__);
    sel.result(School.fullName());
    sel.where(srcExpr);
    <span class="keywordflow">return</span> DataSource&lt;example::School&gt;(db, example::School::Id.in(sel) &amp;&amp; expr);
}
<span class="keyword">template</span> &lt;&gt; <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Student&gt;</a> SchoolStudentRelation::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    SelectQuery sel;
    sel.source(table__);
    sel.result(Student.fullName());
    sel.where(srcExpr);
    <span class="keywordflow">return</span> DataSource&lt;example::Student&gt;(db, example::Student::Id.in(sel) &amp;&amp; expr);
}
EmployeeOfficeRelation::Row::Row(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec)
         : office(EmployeeOfficeRelation::Office), employee(EmployeeOfficeRelation::Employee) {
    <span class="keywordflow">switch</span>(rec.size()) {
    <span class="keywordflow">case</span> 2:
        office = rec[1];
    <span class="keywordflow">case</span> 1:
        employee = rec[0];
    }
}
<span class="keyword">const</span> std::string EmployeeOfficeRelation::table__(<span class="stringliteral">"Employee_Office_"</span>);
<span class="keyword">const</span> litesql::FieldType EmployeeOfficeRelation::Employee(<span class="stringliteral">"Employee1"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keyword">const</span> litesql::FieldType EmployeeOfficeRelation::Office(<span class="stringliteral">"Office2"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keywordtype">void</span> EmployeeOfficeRelation::link(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Employee&amp; o0, <span class="keyword">const</span> example::Office&amp; o1) {
    Record values;
    Split fields;
    fields.push_back(Employee.name());
    values.push_back(o0.id);
    fields.push_back(Office.name());
    values.push_back(o1.id);
    db.<a class="code" href="classlitesql_1_1Database.html#8cccf5a3bb6340978ee0c6e64f04afff" title="executes SQL INSERT statement.">insert</a>(table__, values, fields);
}
<span class="keywordtype">void</span> EmployeeOfficeRelation::unlink(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> example::Employee&amp; o0, <span class="keyword">const</span> example::Office&amp; o1) {
    db.<a class="code" href="classlitesql_1_1Database.html#a23f80b876489721470bb6be033a19c3" title="deletes rows from single table, deleted rows are selected by Expr if specified">delete_</a>(table__, (Employee == o0.id &amp;&amp; Office == o1.id));
}
<span class="keywordtype">void</span> EmployeeOfficeRelation::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    db.<a class="code" href="classlitesql_1_1Database.html#a23f80b876489721470bb6be033a19c3" title="deletes rows from single table, deleted rows are selected by Expr if specified">delete_</a>(table__, expr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;EmployeeOfficeRelation::Row&gt;</a> EmployeeOfficeRelation::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    SelectQuery sel;
    sel.result(Employee.fullName());
    sel.result(Office.fullName());
    sel.source(table__);
    sel.where(expr);
    <span class="keywordflow">return</span> DataSource&lt;EmployeeOfficeRelation::Row&gt;(db, sel);
}
<span class="keyword">template</span> &lt;&gt; <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Employee&gt;</a> EmployeeOfficeRelation::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    SelectQuery sel;
    sel.source(table__);
    sel.result(Employee.fullName());
    sel.where(srcExpr);
    <span class="keywordflow">return</span> DataSource&lt;example::Employee&gt;(db, example::Employee::Id.in(sel) &amp;&amp; expr);
}
<span class="keyword">template</span> &lt;&gt; <a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;example::Office&gt;</a> EmployeeOfficeRelation::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    SelectQuery sel;
    sel.source(table__);
    sel.result(Office.fullName());
    sel.where(srcExpr);
    <span class="keywordflow">return</span> DataSource&lt;example::Office&gt;(db, example::Office::Id.in(sel) &amp;&amp; expr);
}
<span class="keyword">const</span> litesql::FieldType Person::Own::Id(<span class="stringliteral">"id_"</span>,<span class="stringliteral">"INTEGER"</span>,<span class="stringliteral">"Person_"</span>);
<span class="keyword">const</span> <span class="keywordtype">int</span> Person::SexType::Male(0);
<span class="keyword">const</span> <span class="keywordtype">int</span> Person::SexType::Female(1);
Person::SexType::SexType(<span class="keyword">const</span> std::string&amp; n, <span class="keyword">const</span> std::string&amp; t, <span class="keyword">const</span> std::string&amp; tbl, <span class="keyword">const</span> litesql::FieldType::Values&amp; vals)
         : litesql::FieldType(n,t,tbl,vals) {
}
<span class="keyword">const</span> <span class="keywordtype">int</span> Person::Sex::Male(0);
<span class="keyword">const</span> <span class="keywordtype">int</span> Person::Sex::Female(1);
Person::MotherHandle::MotherHandle(<span class="keyword">const</span> Person&amp; owner)
         : litesql::RelationHandle&lt;Person&gt;(owner) {
}
<span class="keywordtype">void</span> Person::MotherHandle::link(<span class="keyword">const</span> Person&amp; o0) {
    PersonPersonRelationMother::link(owner-&gt;getDatabase(), *owner, o0);
}
<span class="keywordtype">void</span> Person::MotherHandle::unlink(<span class="keyword">const</span> Person&amp; o0) {
    PersonPersonRelationMother::unlink(owner-&gt;getDatabase(), *owner, o0);
}
<span class="keywordtype">void</span> Person::MotherHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    PersonPersonRelationMother::del(owner-&gt;getDatabase(), expr &amp;&amp; PersonPersonRelationMother::Person1 == owner-&gt;id);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Person&gt;</a> Person::MotherHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    <span class="keywordflow">return</span> PersonPersonRelationMother::getPerson2(owner-&gt;getDatabase(), expr, (PersonPersonRelationMother::Person1 == owner-&gt;id) &amp;&amp; srcExpr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationMother::Row&gt;</a> Person::MotherHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    <span class="keywordflow">return</span> PersonPersonRelationMother::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (PersonPersonRelationMother::Person1 == owner-&gt;id));
}
Person::FatherHandle::FatherHandle(<span class="keyword">const</span> Person&amp; owner)
         : litesql::RelationHandle&lt;Person&gt;(owner) {
}
<span class="keywordtype">void</span> Person::FatherHandle::link(<span class="keyword">const</span> Person&amp; o0) {
    PersonPersonRelationFather::link(owner-&gt;getDatabase(), *owner, o0);
}
<span class="keywordtype">void</span> Person::FatherHandle::unlink(<span class="keyword">const</span> Person&amp; o0) {
    PersonPersonRelationFather::unlink(owner-&gt;getDatabase(), *owner, o0);
}
<span class="keywordtype">void</span> Person::FatherHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    PersonPersonRelationFather::del(owner-&gt;getDatabase(), expr &amp;&amp; PersonPersonRelationFather::Person1 == owner-&gt;id);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Person&gt;</a> Person::FatherHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    <span class="keywordflow">return</span> PersonPersonRelationFather::getPerson2(owner-&gt;getDatabase(), expr, (PersonPersonRelationFather::Person1 == owner-&gt;id) &amp;&amp; srcExpr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationFather::Row&gt;</a> Person::FatherHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    <span class="keywordflow">return</span> PersonPersonRelationFather::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (PersonPersonRelationFather::Person1 == owner-&gt;id));
}
Person::SiblingsHandle::SiblingsHandle(<span class="keyword">const</span> Person&amp; owner)
         : litesql::RelationHandle&lt;Person&gt;(owner) {
}
<span class="keywordtype">void</span> Person::SiblingsHandle::link(<span class="keyword">const</span> Person&amp; o0) {
    PersonPersonRelationSiblings::link(owner-&gt;getDatabase(), *owner, o0);
}
<span class="keywordtype">void</span> Person::SiblingsHandle::unlink(<span class="keyword">const</span> Person&amp; o0) {
    PersonPersonRelationSiblings::unlink(owner-&gt;getDatabase(), *owner, o0);
}
<span class="keywordtype">void</span> Person::SiblingsHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    PersonPersonRelationSiblings::del(owner-&gt;getDatabase(), expr &amp;&amp; PersonPersonRelationSiblings::Person1 == owner-&gt;id);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Person&gt;</a> Person::SiblingsHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    <span class="keywordflow">return</span> PersonPersonRelationSiblings::getPerson2(owner-&gt;getDatabase(), expr, (PersonPersonRelationSiblings::Person1 == owner-&gt;id) &amp;&amp; srcExpr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationSiblings::Row&gt;</a> Person::SiblingsHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    <span class="keywordflow">return</span> PersonPersonRelationSiblings::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (PersonPersonRelationSiblings::Person1 == owner-&gt;id));
}
Person::ChildrenHandle::ChildrenHandle(<span class="keyword">const</span> Person&amp; owner)
         : litesql::RelationHandle&lt;Person&gt;(owner) {
}
<span class="keywordtype">void</span> Person::ChildrenHandle::link(<span class="keyword">const</span> Person&amp; o0) {
    PersonPersonRelationChildren::link(owner-&gt;getDatabase(), *owner, o0);
}
<span class="keywordtype">void</span> Person::ChildrenHandle::unlink(<span class="keyword">const</span> Person&amp; o0) {
    PersonPersonRelationChildren::unlink(owner-&gt;getDatabase(), *owner, o0);
}
<span class="keywordtype">void</span> Person::ChildrenHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    PersonPersonRelationChildren::del(owner-&gt;getDatabase(), expr &amp;&amp; PersonPersonRelationChildren::Person1 == owner-&gt;id);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Person&gt;</a> Person::ChildrenHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    <span class="keywordflow">return</span> PersonPersonRelationChildren::getPerson2(owner-&gt;getDatabase(), expr, (PersonPersonRelationChildren::Person1 == owner-&gt;id) &amp;&amp; srcExpr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;PersonPersonRelationChildren::Row&gt;</a> Person::ChildrenHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    <span class="keywordflow">return</span> PersonPersonRelationChildren::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (PersonPersonRelationChildren::Person1 == owner-&gt;id));
}
Person::RolesHandle::RolesHandle(<span class="keyword">const</span> Person&amp; owner)
         : litesql::RelationHandle&lt;Person&gt;(owner) {
}
<span class="keywordtype">void</span> Person::RolesHandle::link(<span class="keyword">const</span> Role&amp; o0) {
    RoleRelation::link(owner-&gt;getDatabase(), *owner, o0);
}
<span class="keywordtype">void</span> Person::RolesHandle::unlink(<span class="keyword">const</span> Role&amp; o0) {
    RoleRelation::unlink(owner-&gt;getDatabase(), *owner, o0);
}
<span class="keywordtype">void</span> Person::RolesHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    RoleRelation::del(owner-&gt;getDatabase(), expr &amp;&amp; RoleRelation::Person == owner-&gt;id);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Role&gt;</a> Person::RolesHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    <span class="keywordflow">return</span> RoleRelation::get&lt;Role&gt;(owner-&gt;getDatabase(), expr, (RoleRelation::Person == owner-&gt;id) &amp;&amp; srcExpr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;RoleRelation::Row&gt;</a> Person::RolesHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    <span class="keywordflow">return</span> RoleRelation::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (RoleRelation::Person == owner-&gt;id));
}
<span class="keyword">const</span> std::string Person::type__(<span class="stringliteral">"Person"</span>);
<span class="keyword">const</span> std::string Person::table__(<span class="stringliteral">"Person_"</span>);
<span class="keyword">const</span> std::string Person::sequence__(<span class="stringliteral">"Person_seq"</span>);
<span class="keyword">const</span> litesql::FieldType Person::Id(<span class="stringliteral">"id_"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keyword">const</span> litesql::FieldType Person::Type(<span class="stringliteral">"type_"</span>,<span class="stringliteral">"TEXT"</span>,table__);
<span class="keyword">const</span> litesql::FieldType Person::Name(<span class="stringliteral">"name_"</span>,<span class="stringliteral">"TEXT"</span>,table__);
<span class="keyword">const</span> litesql::FieldType Person::Age(<span class="stringliteral">"age_"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
std::vector &lt; std::pair&lt; std::string, std::string &gt; &gt; Person::sex_values;
<span class="keyword">const</span> Person::SexType Person::Sex(<span class="stringliteral">"sex_"</span>,<span class="stringliteral">"INTEGER"</span>,table__,sex_values);
<span class="keywordtype">void</span> Person::initValues() {
    sex_values.clear();
    sex_values.push_back(make_pair&lt;std::string, std::string&gt;(<span class="stringliteral">"Male"</span>,<span class="stringliteral">"0"</span>));
    sex_values.push_back(make_pair&lt;std::string, std::string&gt;(<span class="stringliteral">"Female"</span>,<span class="stringliteral">"1"</span>));
}
<span class="keywordtype">void</span> Person::defaults() {
    <span class="keywordtype">id</span> = 0;
    age = 15;
    sex = 0;
}
Person::Person(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db)
     : litesql::Persistent(db), id(Id), type(Type), name(Name), age(Age), sex(Sex) {
    defaults();
}
Person::Person(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec)
     : litesql::Persistent(db, rec), id(Id), type(Type), name(Name), age(Age), sex(Sex) {
    defaults();
    <span class="keywordtype">size_t</span> size = (rec.size() &gt; 5) ? 5 : rec.size();
    <span class="keywordflow">switch</span>(size) {
    <span class="keywordflow">case</span> 5: sex = convert&lt;const std::string&amp;, int&gt;(rec[4]);
        sex.setModified(<span class="keyword">false</span>);
    <span class="keywordflow">case</span> 4: age = convert&lt;const std::string&amp;, int&gt;(rec[3]);
        age.setModified(<span class="keyword">false</span>);
    <span class="keywordflow">case</span> 3: name = convert&lt;const std::string&amp;, std::string&gt;(rec[2]);
        name.setModified(<span class="keyword">false</span>);
    <span class="keywordflow">case</span> 2: type = convert&lt;const std::string&amp;, std::string&gt;(rec[1]);
        type.setModified(<span class="keyword">false</span>);
    <span class="keywordflow">case</span> 1: <span class="keywordtype">id</span> = convert&lt;const std::string&amp;, int&gt;(rec[0]);
        <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);
    }
}
Person::Person(<span class="keyword">const</span> Person&amp; obj)
     : litesql::Persistent(obj), id(obj.id), type(obj.type), name(obj.name), age(obj.age), sex(obj.sex) {
}
<span class="keyword">const</span> Person&amp; Person::operator=(<span class="keyword">const</span> Person&amp; obj) {
    <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;obj) {
        <span class="keywordtype">id</span> = obj.id;
        type = obj.type;
        name = obj.name;
        age = obj.age;
        sex = obj.sex;
    }
    <a class="code" href="classlitesql_1_1Persistent.html#01be299248c5ad85b65b5e2131ae7668" title="copies values and keeps fields unchanged">litesql::Persistent::operator=</a>(obj);
    <span class="keywordflow">return</span> *<span class="keyword">this</span>;
}
Person::MotherHandle Person::mother() {
    <span class="keywordflow">return</span> Person::MotherHandle(*<span class="keyword">this</span>);
}
Person::FatherHandle Person::father() {
    <span class="keywordflow">return</span> Person::FatherHandle(*<span class="keyword">this</span>);
}
Person::SiblingsHandle Person::siblings() {
    <span class="keywordflow">return</span> Person::SiblingsHandle(*<span class="keyword">this</span>);
}
Person::ChildrenHandle Person::children() {
    <span class="keywordflow">return</span> Person::ChildrenHandle(*<span class="keyword">this</span>);
}
Person::RolesHandle Person::roles() {
    <span class="keywordflow">return</span> Person::RolesHandle(*<span class="keyword">this</span>);
}
std::string Person::insert(<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; tables, litesql::Records&amp; fieldRecs, litesql::Records&amp; valueRecs) {
    tables.push_back(table__);
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> fields;
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> values;
    fields.push_back(<span class="keywordtype">id</span>.name());
    values.push_back(<span class="keywordtype">id</span>);
    <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);
    fields.push_back(type.name());
    values.push_back(type);
    type.setModified(<span class="keyword">false</span>);
    fields.push_back(name.name());
    values.push_back(name);
    name.setModified(<span class="keyword">false</span>);
    fields.push_back(age.name());
    values.push_back(age);
    age.setModified(<span class="keyword">false</span>);
    fields.push_back(sex.name());
    values.push_back(sex);
    sex.setModified(<span class="keyword">false</span>);
    fieldRecs.push_back(fields);
    valueRecs.push_back(values);
    <span class="keywordflow">return</span> <a class="code" href="classlitesql_1_1Persistent.html#9a224836268d697aeb7213987e3274e8" title="executed when object is created into database">litesql::Persistent::insert</a>(tables, fieldRecs, valueRecs, sequence__);
}
<span class="keywordtype">void</span> Person::create() {
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> tables;
    litesql::Records fieldRecs;
    litesql::Records valueRecs;
    type = type__;
    std::string newID = insert(tables, fieldRecs, valueRecs);
    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)
        <span class="keywordtype">id</span> = newID;
}
<span class="keywordtype">void</span> Person::addUpdates(Updates&amp; updates) {
    prepareUpdate(updates, table__);
    updateField(updates, table__, <span class="keywordtype">id</span>);
    updateField(updates, table__, type);
    updateField(updates, table__, name);
    updateField(updates, table__, age);
    updateField(updates, table__, sex);
}
<span class="keywordtype">void</span> Person::addIDUpdates(Updates&amp; updates) {
}
<span class="keywordtype">void</span> Person::getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes) {
    ftypes.push_back(Id);
    ftypes.push_back(Type);
    ftypes.push_back(Name);
    ftypes.push_back(Age);
    ftypes.push_back(Sex);
}
<span class="keywordtype">void</span> Person::delRecord() {
    deleteFromTable(table__, <span class="keywordtype">id</span>);
}
<span class="keywordtype">void</span> Person::delRelations() {
    PersonPersonRelationMother::del(*db, (PersonPersonRelationMother::Person1 == <span class="keywordtype">id</span>) || (PersonPersonRelationMother::Person2 == <span class="keywordtype">id</span>));
    PersonPersonRelationFather::del(*db, (PersonPersonRelationFather::Person1 == <span class="keywordtype">id</span>) || (PersonPersonRelationFather::Person2 == <span class="keywordtype">id</span>));
    PersonPersonRelationSiblings::del(*db, (PersonPersonRelationSiblings::Person1 == <span class="keywordtype">id</span>) || (PersonPersonRelationSiblings::Person2 == <span class="keywordtype">id</span>));
    PersonPersonRelationChildren::del(*db, (PersonPersonRelationChildren::Person1 == <span class="keywordtype">id</span>) || (PersonPersonRelationChildren::Person2 == <span class="keywordtype">id</span>));
    RoleRelation::del(*db, (RoleRelation::Person == <span class="keywordtype">id</span>));
}
<span class="keywordtype">void</span> Person::update() {
    <span class="keywordflow">if</span> (!inDatabase) {
        create();
        <span class="keywordflow">return</span>;
    }
    Updates updates;
    addUpdates(updates);
    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != oldKey) {
        <span class="keywordflow">if</span> (!typeIsCorrect()) 
            upcastCopy()-&gt;addIDUpdates(updates);
    }
    litesql::Persistent::update(updates);
    oldKey = id;
}
<span class="keywordtype">void</span> Person::del() {
    <span class="keywordflow">if</span> (typeIsCorrect() == <span class="keyword">false</span>) {
        std::auto_ptr&lt;Person&gt; p(upcastCopy());
        p-&gt;delRelations();
        p-&gt;onDelete();
        p-&gt;delRecord();
    } <span class="keywordflow">else</span> {
        onDelete();
        delRecord();
    }
    inDatabase = <span class="keyword">false</span>;
}
<span class="keywordtype">bool</span> Person::typeIsCorrect() {
    <span class="keywordflow">return</span> type == type__;
}
std::auto_ptr&lt;Person&gt; Person::upcast() {
    <span class="keywordflow">return</span> auto_ptr&lt;Person&gt;(<span class="keyword">new</span> Person(*<span class="keyword">this</span>));
}
std::auto_ptr&lt;Person&gt; Person::upcastCopy() {
    Person* np = NULL;
    np-&gt;id = id;
    np-&gt;type = type;
    np-&gt;name = name;
    np-&gt;age = age;
    np-&gt;sex = sex;
    np-&gt;inDatabase = inDatabase;
    <span class="keywordflow">if</span> (!np)
        np = <span class="keyword">new</span> Person(*<span class="keyword">this</span>);
    <span class="keywordflow">return</span> auto_ptr&lt;Person&gt;(np);
}
std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Person o) {
    os &lt;&lt; <span class="stringliteral">"-------------------------------------"</span> &lt;&lt; std::endl;
    os &lt;&lt; o.id.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.id &lt;&lt; std::endl;
    os &lt;&lt; o.type.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.type &lt;&lt; std::endl;
    os &lt;&lt; o.name.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.name &lt;&lt; std::endl;
    os &lt;&lt; o.age.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.age &lt;&lt; std::endl;
    os &lt;&lt; o.sex.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.sex &lt;&lt; std::endl;
    os &lt;&lt; <span class="stringliteral">"-------------------------------------"</span> &lt;&lt; std::endl;
    <span class="keywordflow">return</span> os;
}
<span class="keyword">const</span> litesql::FieldType Role::Own::Id(<span class="stringliteral">"id_"</span>,<span class="stringliteral">"INTEGER"</span>,<span class="stringliteral">"Role_"</span>);
Role::PersonHandle::PersonHandle(<span class="keyword">const</span> Role&amp; owner)
         : litesql::RelationHandle&lt;Role&gt;(owner) {
}
<span class="keywordtype">void</span> Role::PersonHandle::link(<span class="keyword">const</span> Person&amp; o0) {
    RoleRelation::link(owner-&gt;getDatabase(), o0, *owner);
}
<span class="keywordtype">void</span> Role::PersonHandle::unlink(<span class="keyword">const</span> Person&amp; o0) {
    RoleRelation::unlink(owner-&gt;getDatabase(), o0, *owner);
}
<span class="keywordtype">void</span> Role::PersonHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    RoleRelation::del(owner-&gt;getDatabase(), expr &amp;&amp; RoleRelation::Role == owner-&gt;id);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Person&gt;</a> Role::PersonHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    <span class="keywordflow">return</span> RoleRelation::get&lt;Person&gt;(owner-&gt;getDatabase(), expr, (RoleRelation::Role == owner-&gt;id) &amp;&amp; srcExpr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;RoleRelation::Row&gt;</a> Role::PersonHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    <span class="keywordflow">return</span> RoleRelation::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (RoleRelation::Role == owner-&gt;id));
}
<span class="keyword">const</span> std::string Role::type__(<span class="stringliteral">"Role"</span>);
<span class="keyword">const</span> std::string Role::table__(<span class="stringliteral">"Role_"</span>);
<span class="keyword">const</span> std::string Role::sequence__(<span class="stringliteral">"Role_seq"</span>);
<span class="keyword">const</span> litesql::FieldType Role::Id(<span class="stringliteral">"id_"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keyword">const</span> litesql::FieldType Role::Type(<span class="stringliteral">"type_"</span>,<span class="stringliteral">"TEXT"</span>,table__);
<span class="keywordtype">void</span> Role::defaults() {
    <span class="keywordtype">id</span> = 0;
}
Role::Role(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db)
     : litesql::Persistent(db), id(Id), type(Type) {
    defaults();
}
Role::Role(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec)
     : litesql::Persistent(db, rec), id(Id), type(Type) {
    defaults();
    <span class="keywordtype">size_t</span> size = (rec.size() &gt; 2) ? 2 : rec.size();
    <span class="keywordflow">switch</span>(size) {
    <span class="keywordflow">case</span> 2: type = convert&lt;const std::string&amp;, std::string&gt;(rec[1]);
        type.setModified(<span class="keyword">false</span>);
    <span class="keywordflow">case</span> 1: <span class="keywordtype">id</span> = convert&lt;const std::string&amp;, int&gt;(rec[0]);
        <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);
    }
}
Role::Role(<span class="keyword">const</span> Role&amp; obj)
     : litesql::Persistent(obj), id(obj.id), type(obj.type) {
}
<span class="keyword">const</span> Role&amp; Role::operator=(<span class="keyword">const</span> Role&amp; obj) {
    <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;obj) {
        <span class="keywordtype">id</span> = obj.id;
        type = obj.type;
    }
    <a class="code" href="classlitesql_1_1Persistent.html#01be299248c5ad85b65b5e2131ae7668" title="copies values and keeps fields unchanged">litesql::Persistent::operator=</a>(obj);
    <span class="keywordflow">return</span> *<span class="keyword">this</span>;
}
Role::PersonHandle Role::person() {
    <span class="keywordflow">return</span> Role::PersonHandle(*<span class="keyword">this</span>);
}
std::string Role::insert(<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; tables, litesql::Records&amp; fieldRecs, litesql::Records&amp; valueRecs) {
    tables.push_back(table__);
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> fields;
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> values;
    fields.push_back(<span class="keywordtype">id</span>.name());
    values.push_back(<span class="keywordtype">id</span>);
    <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);
    fields.push_back(type.name());
    values.push_back(type);
    type.setModified(<span class="keyword">false</span>);
    fieldRecs.push_back(fields);
    valueRecs.push_back(values);
    <span class="keywordflow">return</span> <a class="code" href="classlitesql_1_1Persistent.html#9a224836268d697aeb7213987e3274e8" title="executed when object is created into database">litesql::Persistent::insert</a>(tables, fieldRecs, valueRecs, sequence__);
}
<span class="keywordtype">void</span> Role::create() {
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> tables;
    litesql::Records fieldRecs;
    litesql::Records valueRecs;
    type = type__;
    std::string newID = insert(tables, fieldRecs, valueRecs);
    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)
        <span class="keywordtype">id</span> = newID;
}
<span class="keywordtype">void</span> Role::addUpdates(Updates&amp; updates) {
    prepareUpdate(updates, table__);
    updateField(updates, table__, <span class="keywordtype">id</span>);
    updateField(updates, table__, type);
}
<span class="keywordtype">void</span> Role::addIDUpdates(Updates&amp; updates) {
}
<span class="keywordtype">void</span> Role::getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes) {
    ftypes.push_back(Id);
    ftypes.push_back(Type);
}
<span class="keywordtype">void</span> Role::delRecord() {
    deleteFromTable(table__, <span class="keywordtype">id</span>);
}
<span class="keywordtype">void</span> Role::delRelations() {
    RoleRelation::del(*db, (RoleRelation::Role == <span class="keywordtype">id</span>));
}
<span class="keywordtype">void</span> Role::update() {
    <span class="keywordflow">if</span> (!inDatabase) {
        create();
        <span class="keywordflow">return</span>;
    }
    Updates updates;
    addUpdates(updates);
    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != oldKey) {
        <span class="keywordflow">if</span> (!typeIsCorrect()) 
            upcastCopy()-&gt;addIDUpdates(updates);
    }
    litesql::Persistent::update(updates);
    oldKey = id;
}
<span class="keywordtype">void</span> Role::del() {
    <span class="keywordflow">if</span> (typeIsCorrect() == <span class="keyword">false</span>) {
        std::auto_ptr&lt;Role&gt; p(upcastCopy());
        p-&gt;delRelations();
        p-&gt;onDelete();
        p-&gt;delRecord();
    } <span class="keywordflow">else</span> {
        onDelete();
        delRecord();
    }
    inDatabase = <span class="keyword">false</span>;
}
<span class="keywordtype">bool</span> Role::typeIsCorrect() {
    <span class="keywordflow">return</span> type == type__;
}
std::auto_ptr&lt;Role&gt; Role::upcast() {
    <span class="keywordflow">if</span> (type == Student::type__)
        <span class="keywordflow">return</span> auto_ptr&lt;Role&gt;(<span class="keyword">new</span> Student(select&lt;Student&gt;(*db, Id == <span class="keywordtype">id</span>).one()));
    <span class="keywordflow">if</span> (type == Employee::type__)
        <span class="keywordflow">return</span> auto_ptr&lt;Role&gt;(<span class="keyword">new</span> Employee(select&lt;Employee&gt;(*db, Id == <span class="keywordtype">id</span>).one()));
    <span class="keywordflow">return</span> auto_ptr&lt;Role&gt;(<span class="keyword">new</span> Role(*<span class="keyword">this</span>));
}
std::auto_ptr&lt;Role&gt; Role::upcastCopy() {
    Role* np = NULL;
    <span class="keywordflow">if</span> (type == <span class="stringliteral">"Student"</span>)
        np = <span class="keyword">new</span> Student(*db);
    <span class="keywordflow">if</span> (type == <span class="stringliteral">"Employee"</span>)
        np = <span class="keyword">new</span> Employee(*db);
    np-&gt;id = id;
    np-&gt;type = type;
    np-&gt;inDatabase = inDatabase;
    <span class="keywordflow">if</span> (!np)
        np = <span class="keyword">new</span> Role(*<span class="keyword">this</span>);
    <span class="keywordflow">return</span> auto_ptr&lt;Role&gt;(np);
}
std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Role o) {
    os &lt;&lt; <span class="stringliteral">"-------------------------------------"</span> &lt;&lt; std::endl;
    os &lt;&lt; o.id.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.id &lt;&lt; std::endl;
    os &lt;&lt; o.type.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.type &lt;&lt; std::endl;
    os &lt;&lt; <span class="stringliteral">"-------------------------------------"</span> &lt;&lt; std::endl;
    <span class="keywordflow">return</span> os;
}
<span class="keyword">const</span> litesql::FieldType Student::Own::Id(<span class="stringliteral">"id_"</span>,<span class="stringliteral">"INTEGER"</span>,<span class="stringliteral">"Student_"</span>);
Student::SchoolHandle::SchoolHandle(<span class="keyword">const</span> Student&amp; owner)
         : litesql::RelationHandle&lt;Student&gt;(owner) {
}
<span class="keywordtype">void</span> Student::SchoolHandle::link(<span class="keyword">const</span> School&amp; o0) {
    SchoolStudentRelation::link(owner-&gt;getDatabase(), o0, *owner);
}
<span class="keywordtype">void</span> Student::SchoolHandle::unlink(<span class="keyword">const</span> School&amp; o0) {
    SchoolStudentRelation::unlink(owner-&gt;getDatabase(), o0, *owner);
}
<span class="keywordtype">void</span> Student::SchoolHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    SchoolStudentRelation::del(owner-&gt;getDatabase(), expr &amp;&amp; SchoolStudentRelation::Student == owner-&gt;id);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;School&gt;</a> Student::SchoolHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    <span class="keywordflow">return</span> SchoolStudentRelation::get&lt;School&gt;(owner-&gt;getDatabase(), expr, (SchoolStudentRelation::Student == owner-&gt;id) &amp;&amp; srcExpr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;SchoolStudentRelation::Row&gt;</a> Student::SchoolHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    <span class="keywordflow">return</span> SchoolStudentRelation::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (SchoolStudentRelation::Student == owner-&gt;id));
}
<span class="keyword">const</span> std::string Student::type__(<span class="stringliteral">"Student"</span>);
<span class="keyword">const</span> std::string Student::table__(<span class="stringliteral">"Student_"</span>);
Student::Student(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db)
     : Role(db) {
}
Student::Student(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec)
     : Role(db, rec) {
}
Student::Student(<span class="keyword">const</span> Student&amp; obj)
     : Role(obj) {
}
<span class="keyword">const</span> Student&amp; Student::operator=(<span class="keyword">const</span> Student&amp; obj) {
    Role::operator=(obj);
    <span class="keywordflow">return</span> *<span class="keyword">this</span>;
}
Student::SchoolHandle Student::school() {
    <span class="keywordflow">return</span> Student::SchoolHandle(*<span class="keyword">this</span>);
}
std::string Student::insert(<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; tables, litesql::Records&amp; fieldRecs, litesql::Records&amp; valueRecs) {
    tables.push_back(table__);
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> fields;
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> values;
    fields.push_back(<span class="stringliteral">"id_"</span>);
    values.push_back(<span class="keywordtype">id</span>);
    fieldRecs.push_back(fields);
    valueRecs.push_back(values);
    <span class="keywordflow">return</span> Role::insert(tables, fieldRecs, valueRecs);
}
<span class="keywordtype">void</span> Student::create() {
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> tables;
    litesql::Records fieldRecs;
    litesql::Records valueRecs;
    type = type__;
    std::string newID = insert(tables, fieldRecs, valueRecs);
    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)
        <span class="keywordtype">id</span> = newID;
}
<span class="keywordtype">void</span> Student::addUpdates(Updates&amp; updates) {
    prepareUpdate(updates, table__);
    Role::addUpdates(updates);
}
<span class="keywordtype">void</span> Student::addIDUpdates(Updates&amp; updates) {
    prepareUpdate(updates, table__);
    updateField(updates, table__, <span class="keywordtype">id</span>);
}
<span class="keywordtype">void</span> Student::getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes) {
    Role::getFieldTypes(ftypes);
}
<span class="keywordtype">void</span> Student::delRecord() {
    deleteFromTable(table__, <span class="keywordtype">id</span>);
    Role::delRecord();
}
<span class="keywordtype">void</span> Student::delRelations() {
    SchoolStudentRelation::del(*db, (SchoolStudentRelation::Student == <span class="keywordtype">id</span>));
}
<span class="keywordtype">void</span> Student::update() {
    <span class="keywordflow">if</span> (!inDatabase) {
        create();
        <span class="keywordflow">return</span>;
    }
    Updates updates;
    addUpdates(updates);
    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != oldKey) {
        <span class="keywordflow">if</span> (!typeIsCorrect()) 
            upcastCopy()-&gt;addIDUpdates(updates);
        <span class="keywordflow">else</span>
            addIDUpdates(updates);
    }
    litesql::Persistent::update(updates);
    oldKey = id;
}
<span class="keywordtype">void</span> Student::del() {
    <span class="keywordflow">if</span> (typeIsCorrect() == <span class="keyword">false</span>) {
        std::auto_ptr&lt;Student&gt; p(upcastCopy());
        p-&gt;delRelations();
        p-&gt;onDelete();
        p-&gt;delRecord();
    } <span class="keywordflow">else</span> {
        onDelete();
        delRecord();
    }
    inDatabase = <span class="keyword">false</span>;
}
<span class="keywordtype">bool</span> Student::typeIsCorrect() {
    <span class="keywordflow">return</span> type == type__;
}
std::auto_ptr&lt;Student&gt; Student::upcast() {
    <span class="keywordflow">return</span> auto_ptr&lt;Student&gt;(<span class="keyword">new</span> Student(*<span class="keyword">this</span>));
}
std::auto_ptr&lt;Student&gt; Student::upcastCopy() {
    Student* np = NULL;
    np-&gt;inDatabase = inDatabase;
    <span class="keywordflow">if</span> (!np)
        np = <span class="keyword">new</span> Student(*<span class="keyword">this</span>);
    <span class="keywordflow">return</span> auto_ptr&lt;Student&gt;(np);
}
std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Student o) {
    os &lt;&lt; <span class="stringliteral">"-------------------------------------"</span> &lt;&lt; std::endl;
    os &lt;&lt; o.id.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.id &lt;&lt; std::endl;
    os &lt;&lt; o.type.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.type &lt;&lt; std::endl;
    os &lt;&lt; <span class="stringliteral">"-------------------------------------"</span> &lt;&lt; std::endl;
    <span class="keywordflow">return</span> os;
}
<span class="keyword">const</span> litesql::FieldType Employee::Own::Id(<span class="stringliteral">"id_"</span>,<span class="stringliteral">"INTEGER"</span>,<span class="stringliteral">"Employee_"</span>);
Employee::OfficeHandle::OfficeHandle(<span class="keyword">const</span> Employee&amp; owner)
         : litesql::RelationHandle&lt;Employee&gt;(owner) {
}
<span class="keywordtype">void</span> Employee::OfficeHandle::link(<span class="keyword">const</span> Office&amp; o0) {
    EmployeeOfficeRelation::link(owner-&gt;getDatabase(), *owner, o0);
}
<span class="keywordtype">void</span> Employee::OfficeHandle::unlink(<span class="keyword">const</span> Office&amp; o0) {
    EmployeeOfficeRelation::unlink(owner-&gt;getDatabase(), *owner, o0);
}
<span class="keywordtype">void</span> Employee::OfficeHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    EmployeeOfficeRelation::del(owner-&gt;getDatabase(), expr &amp;&amp; EmployeeOfficeRelation::Employee == owner-&gt;id);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Office&gt;</a> Employee::OfficeHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    <span class="keywordflow">return</span> EmployeeOfficeRelation::get&lt;Office&gt;(owner-&gt;getDatabase(), expr, (EmployeeOfficeRelation::Employee == owner-&gt;id) &amp;&amp; srcExpr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;EmployeeOfficeRelation::Row&gt;</a> Employee::OfficeHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    <span class="keywordflow">return</span> EmployeeOfficeRelation::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (EmployeeOfficeRelation::Employee == owner-&gt;id));
}
<span class="keyword">const</span> std::string Employee::type__(<span class="stringliteral">"Employee"</span>);
<span class="keyword">const</span> std::string Employee::table__(<span class="stringliteral">"Employee_"</span>);
Employee::Employee(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db)
     : Role(db) {
}
Employee::Employee(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec)
     : Role(db, rec) {
}
Employee::Employee(<span class="keyword">const</span> Employee&amp; obj)
     : Role(obj) {
}
<span class="keyword">const</span> Employee&amp; Employee::operator=(<span class="keyword">const</span> Employee&amp; obj) {
    Role::operator=(obj);
    <span class="keywordflow">return</span> *<span class="keyword">this</span>;
}
Employee::OfficeHandle Employee::office() {
    <span class="keywordflow">return</span> Employee::OfficeHandle(*<span class="keyword">this</span>);
}
std::string Employee::insert(<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; tables, litesql::Records&amp; fieldRecs, litesql::Records&amp; valueRecs) {
    tables.push_back(table__);
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> fields;
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> values;
    fields.push_back(<span class="stringliteral">"id_"</span>);
    values.push_back(<span class="keywordtype">id</span>);
    fieldRecs.push_back(fields);
    valueRecs.push_back(values);
    <span class="keywordflow">return</span> Role::insert(tables, fieldRecs, valueRecs);
}
<span class="keywordtype">void</span> Employee::create() {
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> tables;
    litesql::Records fieldRecs;
    litesql::Records valueRecs;
    type = type__;
    std::string newID = insert(tables, fieldRecs, valueRecs);
    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)
        <span class="keywordtype">id</span> = newID;
}
<span class="keywordtype">void</span> Employee::addUpdates(Updates&amp; updates) {
    prepareUpdate(updates, table__);
    Role::addUpdates(updates);
}
<span class="keywordtype">void</span> Employee::addIDUpdates(Updates&amp; updates) {
    prepareUpdate(updates, table__);
    updateField(updates, table__, <span class="keywordtype">id</span>);
}
<span class="keywordtype">void</span> Employee::getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes) {
    Role::getFieldTypes(ftypes);
}
<span class="keywordtype">void</span> Employee::delRecord() {
    deleteFromTable(table__, <span class="keywordtype">id</span>);
    Role::delRecord();
}
<span class="keywordtype">void</span> Employee::delRelations() {
    EmployeeOfficeRelation::del(*db, (EmployeeOfficeRelation::Employee == <span class="keywordtype">id</span>));
}
<span class="keywordtype">void</span> Employee::update() {
    <span class="keywordflow">if</span> (!inDatabase) {
        create();
        <span class="keywordflow">return</span>;
    }
    Updates updates;
    addUpdates(updates);
    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != oldKey) {
        <span class="keywordflow">if</span> (!typeIsCorrect()) 
            upcastCopy()-&gt;addIDUpdates(updates);
        <span class="keywordflow">else</span>
            addIDUpdates(updates);
    }
    litesql::Persistent::update(updates);
    oldKey = id;
}
<span class="keywordtype">void</span> Employee::del() {
    <span class="keywordflow">if</span> (typeIsCorrect() == <span class="keyword">false</span>) {
        std::auto_ptr&lt;Employee&gt; p(upcastCopy());
        p-&gt;delRelations();
        p-&gt;onDelete();
        p-&gt;delRecord();
    } <span class="keywordflow">else</span> {
        onDelete();
        delRecord();
    }
    inDatabase = <span class="keyword">false</span>;
}
<span class="keywordtype">bool</span> Employee::typeIsCorrect() {
    <span class="keywordflow">return</span> type == type__;
}
std::auto_ptr&lt;Employee&gt; Employee::upcast() {
    <span class="keywordflow">return</span> auto_ptr&lt;Employee&gt;(<span class="keyword">new</span> Employee(*<span class="keyword">this</span>));
}
std::auto_ptr&lt;Employee&gt; Employee::upcastCopy() {
    Employee* np = NULL;
    np-&gt;inDatabase = inDatabase;
    <span class="keywordflow">if</span> (!np)
        np = <span class="keyword">new</span> Employee(*<span class="keyword">this</span>);
    <span class="keywordflow">return</span> auto_ptr&lt;Employee&gt;(np);
}
std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Employee o) {
    os &lt;&lt; <span class="stringliteral">"-------------------------------------"</span> &lt;&lt; std::endl;
    os &lt;&lt; o.id.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.id &lt;&lt; std::endl;
    os &lt;&lt; o.type.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.type &lt;&lt; std::endl;
    os &lt;&lt; <span class="stringliteral">"-------------------------------------"</span> &lt;&lt; std::endl;
    <span class="keywordflow">return</span> os;
}
<span class="keyword">const</span> litesql::FieldType School::Own::Id(<span class="stringliteral">"id_"</span>,<span class="stringliteral">"INTEGER"</span>,<span class="stringliteral">"School_"</span>);
School::StudentsHandle::StudentsHandle(<span class="keyword">const</span> School&amp; owner)
         : litesql::RelationHandle&lt;School&gt;(owner) {
}
<span class="keywordtype">void</span> School::StudentsHandle::link(<span class="keyword">const</span> Student&amp; o0) {
    SchoolStudentRelation::link(owner-&gt;getDatabase(), *owner, o0);
}
<span class="keywordtype">void</span> School::StudentsHandle::unlink(<span class="keyword">const</span> Student&amp; o0) {
    SchoolStudentRelation::unlink(owner-&gt;getDatabase(), *owner, o0);
}
<span class="keywordtype">void</span> School::StudentsHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    SchoolStudentRelation::del(owner-&gt;getDatabase(), expr &amp;&amp; SchoolStudentRelation::School == owner-&gt;id);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Student&gt;</a> School::StudentsHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    <span class="keywordflow">return</span> SchoolStudentRelation::get&lt;Student&gt;(owner-&gt;getDatabase(), expr, (SchoolStudentRelation::School == owner-&gt;id) &amp;&amp; srcExpr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;SchoolStudentRelation::Row&gt;</a> School::StudentsHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    <span class="keywordflow">return</span> SchoolStudentRelation::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (SchoolStudentRelation::School == owner-&gt;id));
}
<span class="keyword">const</span> std::string School::type__(<span class="stringliteral">"School"</span>);
<span class="keyword">const</span> std::string School::table__(<span class="stringliteral">"School_"</span>);
<span class="keyword">const</span> std::string School::sequence__(<span class="stringliteral">"School_seq"</span>);
<span class="keyword">const</span> litesql::FieldType School::Id(<span class="stringliteral">"id_"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keyword">const</span> litesql::FieldType School::Type(<span class="stringliteral">"type_"</span>,<span class="stringliteral">"TEXT"</span>,table__);
<span class="keyword">const</span> litesql::FieldType School::Name(<span class="stringliteral">"name_"</span>,<span class="stringliteral">"TEXT"</span>,table__);
<span class="keywordtype">void</span> School::defaults() {
    <span class="keywordtype">id</span> = 0;
}
School::School(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db)
     : litesql::Persistent(db), id(Id), type(Type), name(Name) {
    defaults();
}
School::School(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec)
     : litesql::Persistent(db, rec), id(Id), type(Type), name(Name) {
    defaults();
    <span class="keywordtype">size_t</span> size = (rec.size() &gt; 3) ? 3 : rec.size();
    <span class="keywordflow">switch</span>(size) {
    <span class="keywordflow">case</span> 3: name = convert&lt;const std::string&amp;, std::string&gt;(rec[2]);
        name.setModified(<span class="keyword">false</span>);
    <span class="keywordflow">case</span> 2: type = convert&lt;const std::string&amp;, std::string&gt;(rec[1]);
        type.setModified(<span class="keyword">false</span>);
    <span class="keywordflow">case</span> 1: <span class="keywordtype">id</span> = convert&lt;const std::string&amp;, int&gt;(rec[0]);
        <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);
    }
}
School::School(<span class="keyword">const</span> School&amp; obj)
     : litesql::Persistent(obj), id(obj.id), type(obj.type), name(obj.name) {
}
<span class="keyword">const</span> School&amp; School::operator=(<span class="keyword">const</span> School&amp; obj) {
    <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;obj) {
        <span class="keywordtype">id</span> = obj.id;
        type = obj.type;
        name = obj.name;
    }
    <a class="code" href="classlitesql_1_1Persistent.html#01be299248c5ad85b65b5e2131ae7668" title="copies values and keeps fields unchanged">litesql::Persistent::operator=</a>(obj);
    <span class="keywordflow">return</span> *<span class="keyword">this</span>;
}
School::StudentsHandle School::students() {
    <span class="keywordflow">return</span> School::StudentsHandle(*<span class="keyword">this</span>);
}
std::string School::insert(<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; tables, litesql::Records&amp; fieldRecs, litesql::Records&amp; valueRecs) {
    tables.push_back(table__);
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> fields;
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> values;
    fields.push_back(<span class="keywordtype">id</span>.name());
    values.push_back(<span class="keywordtype">id</span>);
    <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);
    fields.push_back(type.name());
    values.push_back(type);
    type.setModified(<span class="keyword">false</span>);
    fields.push_back(name.name());
    values.push_back(name);
    name.setModified(<span class="keyword">false</span>);
    fieldRecs.push_back(fields);
    valueRecs.push_back(values);
    <span class="keywordflow">return</span> <a class="code" href="classlitesql_1_1Persistent.html#9a224836268d697aeb7213987e3274e8" title="executed when object is created into database">litesql::Persistent::insert</a>(tables, fieldRecs, valueRecs, sequence__);
}
<span class="keywordtype">void</span> School::create() {
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> tables;
    litesql::Records fieldRecs;
    litesql::Records valueRecs;
    type = type__;
    std::string newID = insert(tables, fieldRecs, valueRecs);
    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)
        <span class="keywordtype">id</span> = newID;
}
<span class="keywordtype">void</span> School::addUpdates(Updates&amp; updates) {
    prepareUpdate(updates, table__);
    updateField(updates, table__, <span class="keywordtype">id</span>);
    updateField(updates, table__, type);
    updateField(updates, table__, name);
}
<span class="keywordtype">void</span> School::addIDUpdates(Updates&amp; updates) {
}
<span class="keywordtype">void</span> School::getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes) {
    ftypes.push_back(Id);
    ftypes.push_back(Type);
    ftypes.push_back(Name);
}
<span class="keywordtype">void</span> School::delRecord() {
    deleteFromTable(table__, <span class="keywordtype">id</span>);
}
<span class="keywordtype">void</span> School::delRelations() {
    SchoolStudentRelation::del(*db, (SchoolStudentRelation::School == <span class="keywordtype">id</span>));
}
<span class="keywordtype">void</span> School::update() {
    <span class="keywordflow">if</span> (!inDatabase) {
        create();
        <span class="keywordflow">return</span>;
    }
    Updates updates;
    addUpdates(updates);
    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != oldKey) {
        <span class="keywordflow">if</span> (!typeIsCorrect()) 
            upcastCopy()-&gt;addIDUpdates(updates);
    }
    litesql::Persistent::update(updates);
    oldKey = id;
}
<span class="keywordtype">void</span> School::del() {
    <span class="keywordflow">if</span> (typeIsCorrect() == <span class="keyword">false</span>) {
        std::auto_ptr&lt;School&gt; p(upcastCopy());
        p-&gt;delRelations();
        p-&gt;onDelete();
        p-&gt;delRecord();
    } <span class="keywordflow">else</span> {
        onDelete();
        delRecord();
    }
    inDatabase = <span class="keyword">false</span>;
}
<span class="keywordtype">bool</span> School::typeIsCorrect() {
    <span class="keywordflow">return</span> type == type__;
}
std::auto_ptr&lt;School&gt; School::upcast() {
    <span class="keywordflow">return</span> auto_ptr&lt;School&gt;(<span class="keyword">new</span> School(*<span class="keyword">this</span>));
}
std::auto_ptr&lt;School&gt; School::upcastCopy() {
    School* np = NULL;
    np-&gt;id = id;
    np-&gt;type = type;
    np-&gt;name = name;
    np-&gt;inDatabase = inDatabase;
    <span class="keywordflow">if</span> (!np)
        np = <span class="keyword">new</span> School(*<span class="keyword">this</span>);
    <span class="keywordflow">return</span> auto_ptr&lt;School&gt;(np);
}
std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, School o) {
    os &lt;&lt; <span class="stringliteral">"-------------------------------------"</span> &lt;&lt; std::endl;
    os &lt;&lt; o.id.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.id &lt;&lt; std::endl;
    os &lt;&lt; o.type.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.type &lt;&lt; std::endl;
    os &lt;&lt; o.name.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.name &lt;&lt; std::endl;
    os &lt;&lt; <span class="stringliteral">"-------------------------------------"</span> &lt;&lt; std::endl;
    <span class="keywordflow">return</span> os;
}
<span class="keyword">const</span> litesql::FieldType Office::Own::Id(<span class="stringliteral">"id_"</span>,<span class="stringliteral">"INTEGER"</span>,<span class="stringliteral">"Office_"</span>);
Office::EmployeesHandle::EmployeesHandle(<span class="keyword">const</span> Office&amp; owner)
         : litesql::RelationHandle&lt;Office&gt;(owner) {
}
<span class="keywordtype">void</span> Office::EmployeesHandle::link(<span class="keyword">const</span> Employee&amp; o0) {
    EmployeeOfficeRelation::link(owner-&gt;getDatabase(), o0, *owner);
}
<span class="keywordtype">void</span> Office::EmployeesHandle::unlink(<span class="keyword">const</span> Employee&amp; o0) {
    EmployeeOfficeRelation::unlink(owner-&gt;getDatabase(), o0, *owner);
}
<span class="keywordtype">void</span> Office::EmployeesHandle::del(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    EmployeeOfficeRelation::del(owner-&gt;getDatabase(), expr &amp;&amp; EmployeeOfficeRelation::Office == owner-&gt;id);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;Employee&gt;</a> Office::EmployeesHandle::get(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; srcExpr) {
    <span class="keywordflow">return</span> EmployeeOfficeRelation::get&lt;Employee&gt;(owner-&gt;getDatabase(), expr, (EmployeeOfficeRelation::Office == owner-&gt;id) &amp;&amp; srcExpr);
}
<a class="code" href="classlitesql_1_1DataSource.html" title="template class which holds SelectQuery for selecting objects of type T">litesql::DataSource&lt;EmployeeOfficeRelation::Row&gt;</a> Office::EmployeesHandle::getRows(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Expr.html" title="A base class for expression in WHERE - clause.">litesql::Expr</a>&amp; expr) {
    <span class="keywordflow">return</span> EmployeeOfficeRelation::getRows(owner-&gt;getDatabase(), expr &amp;&amp; (EmployeeOfficeRelation::Office == owner-&gt;id));
}
<span class="keyword">const</span> std::string Office::type__(<span class="stringliteral">"Office"</span>);
<span class="keyword">const</span> std::string Office::table__(<span class="stringliteral">"Office_"</span>);
<span class="keyword">const</span> std::string Office::sequence__(<span class="stringliteral">"Office_seq"</span>);
<span class="keyword">const</span> litesql::FieldType Office::Id(<span class="stringliteral">"id_"</span>,<span class="stringliteral">"INTEGER"</span>,table__);
<span class="keyword">const</span> litesql::FieldType Office::Type(<span class="stringliteral">"type_"</span>,<span class="stringliteral">"TEXT"</span>,table__);
<span class="keywordtype">void</span> Office::defaults() {
    <span class="keywordtype">id</span> = 0;
}
Office::Office(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db)
     : litesql::Persistent(db), id(Id), type(Type) {
    defaults();
}
Office::Office(<span class="keyword">const</span> <a class="code" href="classlitesql_1_1Database.html" title="A base class of databases.">litesql::Database</a>&amp; db, <span class="keyword">const</span> <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; rec)
     : litesql::Persistent(db, rec), id(Id), type(Type) {
    defaults();
    <span class="keywordtype">size_t</span> size = (rec.size() &gt; 2) ? 2 : rec.size();
    <span class="keywordflow">switch</span>(size) {
    <span class="keywordflow">case</span> 2: type = convert&lt;const std::string&amp;, std::string&gt;(rec[1]);
        type.setModified(<span class="keyword">false</span>);
    <span class="keywordflow">case</span> 1: <span class="keywordtype">id</span> = convert&lt;const std::string&amp;, int&gt;(rec[0]);
        <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);
    }
}
Office::Office(<span class="keyword">const</span> Office&amp; obj)
     : litesql::Persistent(obj), id(obj.id), type(obj.type) {
}
<span class="keyword">const</span> Office&amp; Office::operator=(<span class="keyword">const</span> Office&amp; obj) {
    <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;obj) {
        <span class="keywordtype">id</span> = obj.id;
        type = obj.type;
    }
    <a class="code" href="classlitesql_1_1Persistent.html#01be299248c5ad85b65b5e2131ae7668" title="copies values and keeps fields unchanged">litesql::Persistent::operator=</a>(obj);
    <span class="keywordflow">return</span> *<span class="keyword">this</span>;
}
Office::EmployeesHandle Office::employees() {
    <span class="keywordflow">return</span> Office::EmployeesHandle(*<span class="keyword">this</span>);
}
std::string Office::insert(<a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a>&amp; tables, litesql::Records&amp; fieldRecs, litesql::Records&amp; valueRecs) {
    tables.push_back(table__);
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> fields;
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> values;
    fields.push_back(<span class="keywordtype">id</span>.name());
    values.push_back(<span class="keywordtype">id</span>);
    <span class="keywordtype">id</span>.setModified(<span class="keyword">false</span>);
    fields.push_back(type.name());
    values.push_back(type);
    type.setModified(<span class="keyword">false</span>);
    fieldRecs.push_back(fields);
    valueRecs.push_back(values);
    <span class="keywordflow">return</span> <a class="code" href="classlitesql_1_1Persistent.html#9a224836268d697aeb7213987e3274e8" title="executed when object is created into database">litesql::Persistent::insert</a>(tables, fieldRecs, valueRecs, sequence__);
}
<span class="keywordtype">void</span> Office::create() {
    <a class="code" href="classlitesql_1_1Record.html" title="SQL data row wrapper.">litesql::Record</a> tables;
    litesql::Records fieldRecs;
    litesql::Records valueRecs;
    type = type__;
    std::string newID = insert(tables, fieldRecs, valueRecs);
    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)
        <span class="keywordtype">id</span> = newID;
}
<span class="keywordtype">void</span> Office::addUpdates(Updates&amp; updates) {
    prepareUpdate(updates, table__);
    updateField(updates, table__, <span class="keywordtype">id</span>);
    updateField(updates, table__, type);
}
<span class="keywordtype">void</span> Office::addIDUpdates(Updates&amp; updates) {
}
<span class="keywordtype">void</span> Office::getFieldTypes(std::vector&lt;litesql::FieldType&gt;&amp; ftypes) {
    ftypes.push_back(Id);
    ftypes.push_back(Type);
}
<span class="keywordtype">void</span> Office::delRecord() {
    deleteFromTable(table__, <span class="keywordtype">id</span>);
}
<span class="keywordtype">void</span> Office::delRelations() {
    EmployeeOfficeRelation::del(*db, (EmployeeOfficeRelation::Office == <span class="keywordtype">id</span>));
}
<span class="keywordtype">void</span> Office::update() {
    <span class="keywordflow">if</span> (!inDatabase) {
        create();
        <span class="keywordflow">return</span>;
    }
    Updates updates;
    addUpdates(updates);
    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != oldKey) {
        <span class="keywordflow">if</span> (!typeIsCorrect()) 
            upcastCopy()-&gt;addIDUpdates(updates);
    }
    litesql::Persistent::update(updates);
    oldKey = id;
}
<span class="keywordtype">void</span> Office::del() {
    <span class="keywordflow">if</span> (typeIsCorrect() == <span class="keyword">false</span>) {
        std::auto_ptr&lt;Office&gt; p(upcastCopy());
        p-&gt;delRelations();
        p-&gt;onDelete();
        p-&gt;delRecord();
    } <span class="keywordflow">else</span> {
        onDelete();
        delRecord();
    }
    inDatabase = <span class="keyword">false</span>;
}
<span class="keywordtype">bool</span> Office::typeIsCorrect() {
    <span class="keywordflow">return</span> type == type__;
}
std::auto_ptr&lt;Office&gt; Office::upcast() {
    <span class="keywordflow">return</span> auto_ptr&lt;Office&gt;(<span class="keyword">new</span> Office(*<span class="keyword">this</span>));
}
std::auto_ptr&lt;Office&gt; Office::upcastCopy() {
    Office* np = NULL;
    np-&gt;id = id;
    np-&gt;type = type;
    np-&gt;inDatabase = inDatabase;
    <span class="keywordflow">if</span> (!np)
        np = <span class="keyword">new</span> Office(*<span class="keyword">this</span>);
    <span class="keywordflow">return</span> auto_ptr&lt;Office&gt;(np);
}
std::ostream &amp; operator&lt;&lt;(std::ostream&amp; os, Office o) {
    os &lt;&lt; <span class="stringliteral">"-------------------------------------"</span> &lt;&lt; std::endl;
    os &lt;&lt; o.id.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.id &lt;&lt; std::endl;
    os &lt;&lt; o.type.name() &lt;&lt; <span class="stringliteral">" = "</span> &lt;&lt; o.type &lt;&lt; std::endl;
    os &lt;&lt; <span class="stringliteral">"-------------------------------------"</span> &lt;&lt; std::endl;
    <span class="keywordflow">return</span> os;
}
ExampleDatabase::ExampleDatabase(std::string backendType, std::string connInfo)
     : litesql::Database(backendType, connInfo) {
    initialize();
}
std::vector&lt;litesql::Database::SchemaItem&gt; ExampleDatabase::getSchema()<span class="keyword"> const </span>{
    vector&lt;Database::SchemaItem&gt; res;
    res.push_back(Database::SchemaItem(<span class="stringliteral">"schema_"</span>,<span class="stringliteral">"table"</span>,<span class="stringliteral">"CREATE TABLE schema_ (name_ TEXT, type_ TEXT, sql_ TEXT);"</span>));
    <span class="keywordflow">if</span> (backend-&gt;supportsSequences()) {
        res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_seq"</span>,<span class="stringliteral">"sequence"</span>,<span class="stringliteral">"CREATE SEQUENCE Person_seq START 1 INCREMENT 1"</span>));
        res.push_back(Database::SchemaItem(<span class="stringliteral">"Role_seq"</span>,<span class="stringliteral">"sequence"</span>,<span class="stringliteral">"CREATE SEQUENCE Role_seq START 1 INCREMENT 1"</span>));
        res.push_back(Database::SchemaItem(<span class="stringliteral">"School_seq"</span>,<span class="stringliteral">"sequence"</span>,<span class="stringliteral">"CREATE SEQUENCE School_seq START 1 INCREMENT 1"</span>));
        res.push_back(Database::SchemaItem(<span class="stringliteral">"Office_seq"</span>,<span class="stringliteral">"sequence"</span>,<span class="stringliteral">"CREATE SEQUENCE Office_seq START 1 INCREMENT 1"</span>));
    }
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_"</span>,<span class="stringliteral">"table"</span>,<span class="stringliteral">"CREATE TABLE Person_ (id_ "</span> + backend-&gt;getRowIDType() + <span class="stringliteral">",type_ TEXT,name_ TEXT,age_ INTEGER,sex_ INTEGER)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Role_"</span>,<span class="stringliteral">"table"</span>,<span class="stringliteral">"CREATE TABLE Role_ (id_ "</span> + backend-&gt;getRowIDType() + <span class="stringliteral">",type_ TEXT)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Student_"</span>,<span class="stringliteral">"table"</span>,<span class="stringliteral">"CREATE TABLE Student_ (id_ "</span> + backend-&gt;getRowIDType() + <span class="stringliteral">")"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Employee_"</span>,<span class="stringliteral">"table"</span>,<span class="stringliteral">"CREATE TABLE Employee_ (id_ "</span> + backend-&gt;getRowIDType() + <span class="stringliteral">")"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"School_"</span>,<span class="stringliteral">"table"</span>,<span class="stringliteral">"CREATE TABLE School_ (id_ "</span> + backend-&gt;getRowIDType() + <span class="stringliteral">",type_ TEXT,name_ TEXT)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Office_"</span>,<span class="stringliteral">"table"</span>,<span class="stringliteral">"CREATE TABLE Office_ (id_ "</span> + backend-&gt;getRowIDType() + <span class="stringliteral">",type_ TEXT)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Person_Mother"</span>,<span class="stringliteral">"table"</span>,<span class="stringliteral">"CREATE TABLE Person_Person_Mother (Person1 INTEGER UNIQUE,Person2 INTEGER)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Person_Father"</span>,<span class="stringliteral">"table"</span>,<span class="stringliteral">"CREATE TABLE Person_Person_Father (Person1 INTEGER UNIQUE,Person2 INTEGER)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Person_Siblings"</span>,<span class="stringliteral">"table"</span>,<span class="stringliteral">"CREATE TABLE Person_Person_Siblings (Person1 INTEGER,Person2 INTEGER)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Person_Children"</span>,<span class="stringliteral">"table"</span>,<span class="stringliteral">"CREATE TABLE Person_Person_Children (Person1 INTEGER,Person2 INTEGER)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Role_Roles"</span>,<span class="stringliteral">"table"</span>,<span class="stringliteral">"CREATE TABLE Person_Role_Roles (Person1 INTEGER,Role2 INTEGER UNIQUE)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"School_Student_"</span>,<span class="stringliteral">"table"</span>,<span class="stringliteral">"CREATE TABLE School_Student_ (School1 INTEGER,Student2 INTEGER UNIQUE)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Employee_Office_"</span>,<span class="stringliteral">"table"</span>,<span class="stringliteral">"CREATE TABLE Employee_Office_ (Employee1 INTEGER,Office2 INTEGER)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Person_MotherPerson1idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX Person_Person_MotherPerson1idx ON Person_Person_Mother (Person1)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Person_MotherPerson2idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX Person_Person_MotherPerson2idx ON Person_Person_Mother (Person2)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Person_Mother_all_idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX Person_Person_Mother_all_idx ON Person_Person_Mother (Person1,Person2)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Person_FatherPerson1idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX Person_Person_FatherPerson1idx ON Person_Person_Father (Person1)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Person_FatherPerson2idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX Person_Person_FatherPerson2idx ON Person_Person_Father (Person2)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Person_Father_all_idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX Person_Person_Father_all_idx ON Person_Person_Father (Person1,Person2)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"_fc4501d1c1e9cc173fbe356a08a9d12f"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX _fc4501d1c1e9cc173fbe356a08a9d12f ON Person_Person_Siblings (Person1)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"_29908e51ecc673e39c38238d4abe5b3b"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX _29908e51ecc673e39c38238d4abe5b3b ON Person_Person_Siblings (Person2)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Person_Siblings_all_idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX Person_Person_Siblings_all_idx ON Person_Person_Siblings (Person1,Person2)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"_c77a0c252bbee950ec06bda52dd09648"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX _c77a0c252bbee950ec06bda52dd09648 ON Person_Person_Children (Person1)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"_64f9014350ce47b5d0f7606b127df7c3"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX _64f9014350ce47b5d0f7606b127df7c3 ON Person_Person_Children (Person2)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Person_Children_all_idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX Person_Person_Children_all_idx ON Person_Person_Children (Person1,Person2)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Role_RolesPerson1idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX Person_Role_RolesPerson1idx ON Person_Role_Roles (Person1)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Role_RolesRole2idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX Person_Role_RolesRole2idx ON Person_Role_Roles (Role2)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Person_Role_Roles_all_idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX Person_Role_Roles_all_idx ON Person_Role_Roles (Person1,Role2)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"School_Student_School1idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX School_Student_School1idx ON School_Student_ (School1)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"School_Student_Student2idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX School_Student_Student2idx ON School_Student_ (Student2)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"School_Student__all_idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX School_Student__all_idx ON School_Student_ (School1,Student2)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Employee_Office_Employee1idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX Employee_Office_Employee1idx ON Employee_Office_ (Employee1)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Employee_Office_Office2idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX Employee_Office_Office2idx ON Employee_Office_ (Office2)"</span>));
    res.push_back(Database::SchemaItem(<span class="stringliteral">"Employee_Office__all_idx"</span>,<span class="stringliteral">"index"</span>,<span class="stringliteral">"CREATE INDEX Employee_Office__all_idx ON Employee_Office_ (Employee1,Office2)"</span>));
    <span class="keywordflow">return</span> res;
}
<span class="keywordtype">void</span> ExampleDatabase::initialize() {
    <span class="keyword">static</span> <span class="keywordtype">bool</span> initialized = <span class="keyword">false</span>;
    <span class="keywordflow">if</span> (initialized)
        <span class="keywordflow">return</span>;
    initialized = <span class="keyword">true</span>;
    Person::initValues();
}
}
</pre></div><h2><a class="anchor" name="mappingtodatabase">
Mapping Objects to Relational Database</a></h2>
Fields of multiple Persistent-classes are stored in separate tables. Each Persistent-class has its own table. Also, each relation is stored in separate table. An example database demonstrates data mapping. <div class="fragment"><pre class="fragment">&lt;database name=<span class="stringliteral">"example"</span>&gt;
    &lt;<span class="keywordtype">object</span> name=<span class="stringliteral">"Playable"</span>&gt;
        &lt;field name=<span class="stringliteral">"name"</span> type=<span class="stringliteral">"string"</span>/&gt;
        &lt;method name=<span class="stringliteral">"play"</span>/&gt;
    &lt;/<span class="keywordtype">object</span>&gt;
    &lt;<span class="keywordtype">object</span> name=<span class="stringliteral">"AudioFile"</span> inherits=<span class="stringliteral">"Playable"</span>&gt;
        &lt;field name=<span class="stringliteral">"file"</span> type=<span class="stringliteral">"string"</span>/&gt;
        &lt;method name=<span class="stringliteral">"play"</span>/&gt;
    &lt;/<span class="keywordtype">object</span>&gt;
    &lt;<span class="keywordtype">object</span> name=<span class="stringliteral">"Collection"</span>&gt;
        &lt;field name=<span class="stringliteral">"description"</span> type=<span class="stringliteral">"string"</span>/&gt;
    &lt;/<span class="keywordtype">object</span>&gt;
    &lt;relation&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"AudioFile"</span> handle=<span class="stringliteral">"collections"</span>/&gt;
        &lt;relate <span class="keywordtype">object</span>=<span class="stringliteral">"Collection"</span> handle=<span class="stringliteral">"files"</span>/&gt;
        &lt;field name=<span class="stringliteral">"percent"</span> type=<span class="stringliteral">"integer"</span> <span class="keywordflow">default</span>=<span class="stringliteral">"100"</span>/&gt; 
    &lt;/relation&gt;
&lt;/database&gt;
</pre></div> The database schema extracted from definitions above is similar to following: <div class="fragment"><pre class="fragment">CREATE TABLE Playable_ (id_ INTEGER PRIMARY KEY, type_ TEXT, name_ TEXT);
CREATE TABLE AudioFile_ (id_ INTEGER PRIMARY KEY, file_ TEXT);
CREATE TABLE Collection_ (id_ INTEGER PRIMARY KEY, type_ TEXT, description_ TEXT);
CREATE TABLE AudioFile_Collection_ (AudioFile1 INTEGER, Collection2 INTEGER, percent_ INTEGER);

-- original name: idx_AudioFile_Collection_AudioFile1
CREATE INDEX _71b11d59ca507479edd464e053cd01 ON AudioFile_Collection_ (AudioFile1); 

-- original name: idx_AudioFile_Collection_Collection2
CREATE INDEX _e1305d9ca2d1c6947b38fc301ad676 ON AudioFile_Collection_ (Collection2); 

-- original name: idx_AudioFile_Collection_AudioFile1_Collection2
CREATE INDEX _7e632b2ede1b6f3348d36e44e443d0 ON AudioFile_Collection_ (AudioFile1,Collection2); 
</pre></div><p>
The relation table AudioFile_Collection_ is indexed by both of its fields. If table or index identifier is longer than 31 characters, it will be truncated by calculating MD5-sum of the identifier because all backends do not support longer identifiers (certain PostgreSQL - versions at least).<p>
Fields in tables of Persistent classes and relation attributes (extra fields in relation tables) are postfixed with an underscore to allow usage of SQL's reserved words in identifiers.<h2><a class="anchor" name="virtualmethods">
Virtual Methods</a></h2>
Using database defined in previous section, suppose one needs to select a Playable from database and play() it. The routine selecting and playing the Playable cannot know the actual type of the Playable.<p>
After Playable-object is selected from database it really is a Playable despite it was stored as an AudioFile for example.<p>
In order to retrieve all fields that AudioFile has, the Playable object needs to be upcasted. <div class="fragment"><pre class="fragment">AudioFile af(db);
af.name = <span class="stringliteral">"A good song"</span>;
af.file = <span class="stringliteral">"goodsong.mp3"</span>;
af.update();

Playable p = select&lt;Playable&gt;(db, Playable::Name == <span class="stringliteral">"A good song"</span>).one()
<span class="comment">// p has only one field: name</span>

p.upcast().play();
<span class="comment">// this executes actually select&lt;AudioFile&gt;(db, Playable::Id == x).one().play();</span>
</pre></div><p>
The code generator (litesql-gen) writes upcast-method that returns object of correct type.<p>
Sometimes extra fields that an inherited Persistent may have are not needed when accessing virtual methods. It would be futile to execute SQL statements. Another upcaster function is provided to help in this situation.<p>
For example, onDelete() - may not need any fields. del() - method that calls onDelete() uses upcastCopy() to access onDelete() of inherited Persistent.<p>
<div class="fragment"><pre class="fragment"><span class="comment">// same Playable is selected as in above example</span>
p.upcastCopy()-&gt;makeLogEntry(log)
</pre></div><p>
Note that upcastCopy will return a Persistent whose all fields are not retrieved from database. </div>
<hr />
<a href="http://sourceforge.net"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=113304&amp;type=2" width="125" height="37" border="0" alt="SourceForge.net Logo" /></a>

