<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>LiteSQL: Upcasting and Virtual Methods</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="usage_upcasting">Upcasting and Virtual Methods </a></h1>In order to support virtual methods a Persistent object must be upcasted to correct type before calling virtual method.<p>
upcast will return an auto_ptr which holds a pointer to an object of correct type.<p>
upcastCopy is similar to upcast. It does not select an object of correct type from database but just constructs it in memory. Note that constructed object does not have all of its fields. This method is suitable when virtual method to be called does not need any special fields.<p>
An example of upcast: <div class="fragment"><pre class="fragment">Playable pl = select&lt;Playable&gt;(db).one();
pl.upcast()-&gt;play();
</pre></div><p>
An another example of upcast: <div class="fragment"><pre class="fragment">Playable pl = select&lt;Playable&gt;(db).one();
auto_ptr&lt;Playable&gt; uc = pl.upcast();
cout &lt;&lt; <span class="stringliteral">"Playing "</span> &lt;&lt; uc-&gt;name &lt;&lt; endl;
uc-&gt;play();
</pre></div><p>
An example of upcastCopy: <div class="fragment"><pre class="fragment">Playable pl = select&lt;Playable&gt;(db).one();
pl.upcastCopy()-&gt;makeLogEntry(log);
</pre></div> </div>
<hr />
<a href="http://sourceforge.net"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=113304&amp;type=2" width="125" height="37" border="0" alt="SourceForge.net Logo" /></a>

